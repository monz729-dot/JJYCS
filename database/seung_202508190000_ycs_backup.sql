-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "SA" SALT '4b585eec7ed69e9e' HASH '260598895c652f4164ee3568add9afba385326143da62bc4d049fcb3acf8f11a' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."USERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 6) NOT NULL,
    "EMAIL" CHARACTER VARYING(255) NOT NULL,
    "PASSWORD_HASH" CHARACTER VARYING(255) NOT NULL,
    "NAME" CHARACTER VARYING(100) NOT NULL,
    "PHONE" CHARACTER VARYING(20),
    "ROLE" CHARACTER VARYING(20) NOT NULL,
    "STATUS" CHARACTER VARYING(20) DEFAULT 'active',
    "MEMBER_CODE" CHARACTER VARYING(20),
    "EMAIL_VERIFIED" BOOLEAN DEFAULT FALSE,
    "AGREE_TERMS" BOOLEAN DEFAULT FALSE,
    "AGREE_PRIVACY" BOOLEAN DEFAULT FALSE,
    "AGREE_MARKETING" BOOLEAN DEFAULT FALSE,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "LAST_LOGIN_AT" TIMESTAMP,
    "USERNAME" CHARACTER VARYING(50) NOT NULL,
    "EMAIL_VERIFICATION_TOKEN" CHARACTER VARYING(255),
    "TWO_FACTOR_ENABLED" BOOLEAN DEFAULT FALSE,
    "TWO_FACTOR_SECRET" CHARACTER VARYING(255),
    "PASSWORD_RESET_TOKEN" CHARACTER VARYING(255),
    "PASSWORD_RESET_EXPIRES_AT" TIMESTAMP,
    "LOGIN_ATTEMPTS" INTEGER DEFAULT 0,
    "LOCKED_UNTIL" TIMESTAMP
);           
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");        
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.USERS;   
INSERT INTO "PUBLIC"."USERS" VALUES
(1, 'admin@ycs-lms.com', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM5lE.ByOKgdKoXwb2Pq', 'System Admin', NULL, 'admin', 'active', 'ADMIN001', TRUE, TRUE, TRUE, FALSE, TIMESTAMP '2025-08-17 01:49:48.434768', TIMESTAMP '2025-08-17 01:49:48.434768', NULL, 'admin', NULL, FALSE, NULL, NULL, NULL, 0, NULL),
(5, 'hong@example.com', '$2a$10$ouF5OQS60L6nfPTp7n.PnOQuCLCR9Udif8qPsCAi.SDvXL42o0tGi', U&'\d64d\ae38\b3d9', '010-1234-5678', 'ENTERPRISE', 'PENDING_APPROVAL', NULL, FALSE, FALSE, FALSE, FALSE, TIMESTAMP '2025-08-17 23:49:07.346917', TIMESTAMP '2025-08-17 23:49:07.346917', NULL, 'mockuser01', 'd143e85b-d430-4e02-859b-9b00d25650aa', FALSE, NULL, NULL, NULL, 0, NULL);         
CREATE INDEX "PUBLIC"."IDX_USERS_EMAIL" ON "PUBLIC"."USERS"("EMAIL" NULLS FIRST);             
CREATE INDEX "PUBLIC"."IDX_USERS_MEMBER_CODE" ON "PUBLIC"."USERS" COMMENT U&'\d68c\c6d0 \cf54\b4dc \ac80\c99d \bc0f \c870\d68c'("MEMBER_CODE" NULLS FIRST);   
CREATE INDEX "PUBLIC"."IDX_USERS_ROLE_STATUS" ON "PUBLIC"."USERS"("ROLE" NULLS FIRST, "STATUS" NULLS FIRST);  
CREATE INDEX "PUBLIC"."IDX_USERS_ROLE" ON "PUBLIC"."USERS"("ROLE" NULLS FIRST);               
CREATE INDEX "PUBLIC"."IDX_USERS_STATUS" ON "PUBLIC"."USERS"("STATUS" NULLS FIRST);           
CREATE UNIQUE NULLS DISTINCT INDEX "PUBLIC"."UX_USERS_USERNAME" ON "PUBLIC"."USERS"("USERNAME" NULLS FIRST);  
CREATE CACHED TABLE "PUBLIC"."ORDERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ORDER_CODE" CHARACTER VARYING(50) NOT NULL,
    "USER_ID" BIGINT NOT NULL,
    "STATUS" CHARACTER VARYING(20) DEFAULT 'requested',
    "ORDER_TYPE" CHARACTER VARYING(10) DEFAULT 'sea',
    "RECIPIENT_NAME" CHARACTER VARYING(100) NOT NULL,
    "RECIPIENT_PHONE" CHARACTER VARYING(20) NOT NULL,
    "RECIPIENT_ADDRESS" CHARACTER VARYING NOT NULL,
    "RECIPIENT_COUNTRY" CHARACTER VARYING(3) NOT NULL,
    "RECIPIENT_POSTAL_CODE" CHARACTER VARYING(20),
    "TOTAL_AMOUNT" DECIMAL(12, 2) DEFAULT 0.00,
    "CURRENCY" CHARACTER VARYING(3) DEFAULT 'THB',
    "TOTAL_CBM_M3" DECIMAL(10, 6) DEFAULT 0.000000,
    "REQUIRES_EXTRA_RECIPIENT" BOOLEAN DEFAULT FALSE,
    "PICKUP_ADDRESS" CHARACTER VARYING,
    "ESTIMATED_DELIVERY_DATE" DATE,
    "ACTUAL_DELIVERY_DATE" DATE,
    "TRACKING_NUMBER" CHARACTER VARYING(100),
    "SHIPPING_COST" DECIMAL(12, 2),
    "LOCAL_SHIPPING_COST" DECIMAL(12, 2),
    "REPACK_COST" DECIMAL(12, 2),
    "TOTAL_COST" DECIMAL(12, 2),
    "NOTES" CHARACTER VARYING,
    "SPECIAL_INSTRUCTIONS" CHARACTER VARYING,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);        
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDERS;  
CREATE INDEX "PUBLIC"."IDX_ORDERS_ORDER_CODE" ON "PUBLIC"."ORDERS" COMMENT U&'\c8fc\bb38 \cf54\b4dc\b85c \be60\b978 \ac80\c0c9'("ORDER_CODE" NULLS FIRST);    
CREATE INDEX "PUBLIC"."IDX_ORDERS_USER_ID" ON "PUBLIC"."ORDERS"("USER_ID" NULLS FIRST);       
CREATE INDEX "PUBLIC"."IDX_ORDERS_STATUS" ON "PUBLIC"."ORDERS"("STATUS" NULLS FIRST);         
CREATE INDEX "PUBLIC"."IDX_ORDERS_ORDER_TYPE" ON "PUBLIC"."ORDERS"("ORDER_TYPE" NULLS FIRST); 
CREATE INDEX "PUBLIC"."IDX_ORDERS_CREATED_AT" ON "PUBLIC"."ORDERS"("CREATED_AT" NULLS FIRST); 
CREATE INDEX "PUBLIC"."IDX_ORDERS_USER_STATUS" ON "PUBLIC"."ORDERS" COMMENT U&'\c0ac\c6a9\c790\bcc4 \c8fc\bb38 \c0c1\d0dc \d544\d130\b9c1'("USER_ID" NULLS FIRST, "STATUS" NULLS FIRST);      
CREATE INDEX "PUBLIC"."IDX_ORDERS_STATUS_CREATED" ON "PUBLIC"."ORDERS"("STATUS" NULLS FIRST, "CREATED_AT" NULLS FIRST);       
CREATE CACHED TABLE "PUBLIC"."ORDER_BOXES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ORDER_ID" BIGINT NOT NULL,
    "BOX_NUMBER" INTEGER NOT NULL,
    "WIDTH_CM" DECIMAL(8, 2) NOT NULL,
    "HEIGHT_CM" DECIMAL(8, 2) NOT NULL,
    "DEPTH_CM" DECIMAL(8, 2) NOT NULL,
    "CBM_M3" DECIMAL(10, 6) DEFAULT 0.000000,
    "WEIGHT_KG" DECIMAL(8, 3),
    "STATUS" CHARACTER VARYING(20) DEFAULT 'registered',
    "LABEL_CODE" CHARACTER VARYING(50),
    "DESCRIPTION" CHARACTER VARYING,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);  
ALTER TABLE "PUBLIC"."ORDER_BOXES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2B9" PRIMARY KEY("ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDER_BOXES;             
CREATE INDEX "PUBLIC"."IDX_ORDER_BOXES_ORDER_ID" ON "PUBLIC"."ORDER_BOXES"("ORDER_ID" NULLS FIRST);           
CREATE INDEX "PUBLIC"."IDX_ORDER_BOXES_LABEL_CODE" ON "PUBLIC"."ORDER_BOXES" COMMENT U&'\b77c\bca8 \cf54\b4dc\b85c \bc15\c2a4 \c2a4\ce94 \c2dc \be60\b978 \c870\d68c'("LABEL_CODE" NULLS FIRST);              
CREATE INDEX "PUBLIC"."IDX_ORDER_BOXES_STATUS" ON "PUBLIC"."ORDER_BOXES"("STATUS" NULLS FIRST);               
CREATE INDEX "PUBLIC"."IDX_ORDER_BOXES_BOX_NUMBER" ON "PUBLIC"."ORDER_BOXES"("ORDER_ID" NULLS FIRST, "BOX_NUMBER" NULLS FIRST);               
CREATE CACHED TABLE "PUBLIC"."REPACK_PHOTOS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ORDER_ID" BIGINT NOT NULL,
    "BOX_ID" BIGINT,
    "PHOTO_TYPE" CHARACTER VARYING(20) NOT NULL,
    "FILE_PATH" CHARACTER VARYING(500) NOT NULL,
    "FILE_NAME" CHARACTER VARYING(200) NOT NULL,
    "FILE_SIZE" BIGINT,
    "MIME_TYPE" CHARACTER VARYING(100),
    "UPLOADED_BY" BIGINT,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);   
ALTER TABLE "PUBLIC"."REPACK_PHOTOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.REPACK_PHOTOS;           
CREATE INDEX "PUBLIC"."IDX_REPACK_PHOTOS_ORDER_ID" ON "PUBLIC"."REPACK_PHOTOS"("ORDER_ID" NULLS FIRST);       
CREATE INDEX "PUBLIC"."IDX_REPACK_PHOTOS_BOX_ID" ON "PUBLIC"."REPACK_PHOTOS"("BOX_ID" NULLS FIRST);           
CREATE CACHED TABLE "PUBLIC"."SHIPMENT_TRACKING"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ORDER_ID" BIGINT NOT NULL,
    "TRACKING_NUMBER" CHARACTER VARYING(100) NOT NULL,
    "CARRIER" CHARACTER VARYING(100),
    "SERVICE_TYPE" CHARACTER VARYING(50),
    "STATUS" CHARACTER VARYING(20) DEFAULT 'pending',
    "CURRENT_LOCATION" CHARACTER VARYING(200),
    "SHIPPED_AT" TIMESTAMP,
    "ESTIMATED_DELIVERY" TIMESTAMP,
    "ACTUAL_DELIVERY" TIMESTAMP,
    "TRACKING_EVENTS" CHARACTER LARGE OBJECT,
    "LAST_UPDATED" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);           
ALTER TABLE "PUBLIC"."SHIPMENT_TRACKING" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A2D" PRIMARY KEY("ID");          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SHIPMENT_TRACKING;       
CREATE INDEX "PUBLIC"."IDX_SHIPMENT_TRACKING_ORDER_ID" ON "PUBLIC"."SHIPMENT_TRACKING"("ORDER_ID" NULLS FIRST);               
CREATE INDEX "PUBLIC"."IDX_SHIPMENT_TRACKING_NUMBER" ON "PUBLIC"."SHIPMENT_TRACKING"("TRACKING_NUMBER" NULLS FIRST);          
CREATE INDEX "PUBLIC"."IDX_SHIPMENT_TRACKING_STATUS" ON "PUBLIC"."SHIPMENT_TRACKING"("STATUS" NULLS FIRST);   
CREATE CACHED TABLE "PUBLIC"."PAYMENTS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ORDER_ID" BIGINT NOT NULL,
    "PAYMENT_TYPE" CHARACTER VARYING(20) NOT NULL,
    "AMOUNT" DECIMAL(12, 2) NOT NULL,
    "CURRENCY" CHARACTER VARYING(3) NOT NULL,
    "PAYMENT_METHOD" CHARACTER VARYING(20) NOT NULL,
    "PAYMENT_STATUS" CHARACTER VARYING(20) DEFAULT 'pending',
    "PAYMENT_REFERENCE" CHARACTER VARYING(200),
    "GATEWAY_TRANSACTION_ID" CHARACTER VARYING(200),
    "PAID_AT" TIMESTAMP,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);          
ALTER TABLE "PUBLIC"."PAYMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_81" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PAYMENTS;
CREATE INDEX "PUBLIC"."IDX_PAYMENTS_ORDER_ID" ON "PUBLIC"."PAYMENTS"("ORDER_ID" NULLS FIRST); 
CREATE INDEX "PUBLIC"."IDX_PAYMENTS_STATUS" ON "PUBLIC"."PAYMENTS"("PAYMENT_STATUS" NULLS FIRST);             
CREATE INDEX "PUBLIC"."IDX_PAYMENTS_REFERENCE" ON "PUBLIC"."PAYMENTS"("PAYMENT_REFERENCE" NULLS FIRST);       
CREATE CACHED TABLE "PUBLIC"."ESTIMATES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ORDER_ID" BIGINT NOT NULL,
    "ESTIMATE_VERSION" INTEGER DEFAULT 1,
    "ESTIMATE_TYPE" CHARACTER VARYING(20) DEFAULT 'preliminary',
    "BASE_SHIPPING_COST" DECIMAL(12, 2) DEFAULT 0.00,
    "LOCAL_DELIVERY_COST" DECIMAL(12, 2) DEFAULT 0.00,
    "REPACK_COST" DECIMAL(12, 2) DEFAULT 0.00,
    "INSURANCE_COST" DECIMAL(12, 2) DEFAULT 0.00,
    "CUSTOMS_FEE" DECIMAL(12, 2) DEFAULT 0.00,
    "HANDLING_FEE" DECIMAL(12, 2) DEFAULT 0.00,
    "SUBTOTAL" DECIMAL(12, 2) GENERATED ALWAYS AS ((((("BASE_SHIPPING_COST" + "LOCAL_DELIVERY_COST") + "REPACK_COST") + "INSURANCE_COST") + "CUSTOMS_FEE") + "HANDLING_FEE"),
    "TAX_AMOUNT" DECIMAL(12, 2) DEFAULT 0.00,
    "TOTAL_AMOUNT" DECIMAL(12, 2) GENERATED ALWAYS AS (((((("BASE_SHIPPING_COST" + "LOCAL_DELIVERY_COST") + "REPACK_COST") + "INSURANCE_COST") + "CUSTOMS_FEE") + "HANDLING_FEE") + "TAX_AMOUNT"),
    "CURRENCY" CHARACTER VARYING(3) DEFAULT 'THB',
    "VALID_UNTIL" DATE,
    "ESTIMATED_DELIVERY_DAYS" INTEGER,
    "NOTES" CHARACTER LARGE OBJECT,
    "STATUS" CHARACTER VARYING(20) DEFAULT 'draft',
    "CREATED_BY" BIGINT,
    "APPROVED_BY" BIGINT,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);   
ALTER TABLE "PUBLIC"."ESTIMATES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_80" PRIMARY KEY("ID");   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ESTIMATES;               
CREATE INDEX "PUBLIC"."IDX_ESTIMATES_ORDER_ID" ON "PUBLIC"."ESTIMATES"("ORDER_ID" NULLS FIRST);               
CREATE INDEX "PUBLIC"."IDX_ESTIMATES_STATUS" ON "PUBLIC"."ESTIMATES"("STATUS" NULLS FIRST);   
CREATE INDEX "PUBLIC"."IDX_ESTIMATES_VERSION" ON "PUBLIC"."ESTIMATES"("ORDER_ID" NULLS FIRST, "ESTIMATE_VERSION" NULLS FIRST);
CREATE CACHED TABLE "PUBLIC"."PARTNER_REFERRALS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "PARTNER_USER_ID" BIGINT NOT NULL,
    "REFERRED_USER_ID" BIGINT NOT NULL,
    "REFERRAL_CODE" CHARACTER VARYING(20) NOT NULL,
    "REFERRED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "FIRST_ORDER_ID" BIGINT,
    "FIRST_ORDER_AT" TIMESTAMP,
    "COMMISSION_RATE" DECIMAL(5, 2),
    "COMMISSION_AMOUNT" DECIMAL(12, 2) DEFAULT 0.00,
    "COMMISSION_CURRENCY" CHARACTER VARYING(3) DEFAULT 'THB',
    "COMMISSION_STATUS" CHARACTER VARYING(20) DEFAULT 'pending',
    "COMMISSION_PAID_AT" TIMESTAMP
); 
ALTER TABLE "PUBLIC"."PARTNER_REFERRALS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("ID");            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PARTNER_REFERRALS;       
CREATE INDEX "PUBLIC"."IDX_PARTNER_REFERRALS_PARTNER_ID" ON "PUBLIC"."PARTNER_REFERRALS"("PARTNER_USER_ID" NULLS FIRST);      
CREATE INDEX "PUBLIC"."IDX_PARTNER_REFERRALS_REFERRED_ID" ON "PUBLIC"."PARTNER_REFERRALS"("REFERRED_USER_ID" NULLS FIRST);    
CREATE INDEX "PUBLIC"."IDX_PARTNER_REFERRALS_CODE" ON "PUBLIC"."PARTNER_REFERRALS"("REFERRAL_CODE" NULLS FIRST);              
CREATE CACHED TABLE "PUBLIC"."CONFIG"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 15) NOT NULL,
    "CONFIG_KEY" CHARACTER VARYING(100) NOT NULL,
    "CONFIG_VALUE" CHARACTER LARGE OBJECT NOT NULL,
    "CONFIG_TYPE" CHARACTER VARYING(10) DEFAULT 'string',
    "DESCRIPTION" CHARACTER LARGE OBJECT,
    "IS_SYSTEM" BOOLEAN DEFAULT FALSE,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "UPDATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    "UPDATED_BY" BIGINT
);             
ALTER TABLE "PUBLIC"."CONFIG" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_76" PRIMARY KEY("ID");      
-- 14 +/- SELECT COUNT(*) FROM PUBLIC.CONFIG; 
INSERT INTO "PUBLIC"."CONFIG" VALUES
(1, 'cbm_threshold', '29.0', 'number', U&'CBM \c784\acc4\ac12 (m\00b3) - \cd08\acfc\c2dc \d56d\acf5\bc30\c1a1 \c790\b3d9 \c804\d658', TRUE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(2, 'thb_amount_threshold', '1500.0', 'number', U&'THB \ae08\c561 \c784\acc4\ac12 - \cd08\acfc\c2dc \c218\cde8\c778 \cd94\ac00 \c815\bcf4 \d544\c694', TRUE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(3, 'auto_air_conversion', 'true', 'boolean', U&'CBM \cd08\acfc\c2dc \c790\b3d9 \d56d\acf5 \c804\d658 \c5ec\bd80', TRUE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(4, 'require_member_code', 'true', 'boolean', U&'\d68c\c6d0 \cf54\b4dc \d544\c218 \c5ec\bd80', TRUE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(5, 'default_currency', 'THB', 'string', U&'\ae30\bcf8 \d1b5\d654', FALSE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(6, 'max_file_size_mb', '10', 'number', U&'\cd5c\b300 \d30c\c77c \d06c\ae30 (MB)', FALSE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(7, 'allowed_file_types', '["jpg","jpeg","png","pdf","doc","docx"]', 'json', U&'\d5c8\c6a9 \d30c\c77c \d615\c2dd', FALSE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(8, 'email_notification_enabled', 'true', 'boolean', U&'\c774\ba54\c77c \c54c\b9bc \d65c\c131\d654', FALSE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(9, 'sms_notification_enabled', 'false', 'boolean', U&'SMS \c54c\b9bc \d65c\c131\d654', FALSE, TIMESTAMP '2025-08-17 01:56:25.292964', TIMESTAMP '2025-08-17 01:56:25.292964', NULL),
(10, 'notification_template_order_created', U&'\c8fc\bb38\c774 \c0dd\c131\b418\c5c8\c2b5\b2c8\b2e4. \c8fc\bb38\bc88\d638: {orderCode}', 'string', U&'\c8fc\bb38 \c0dd\c131 \c54c\b9bc \d15c\d50c\b9bf', TRUE, TIMESTAMP '2025-08-17 01:56:25.306964', TIMESTAMP '2025-08-17 01:56:25.306964', NULL),
(11, 'notification_template_order_confirmed', U&'\c8fc\bb38\c774 \d655\c778\b418\c5c8\c2b5\b2c8\b2e4. \c8fc\bb38\bc88\d638: {orderCode}', 'string', U&'\c8fc\bb38 \d655\c778 \c54c\b9bc \d15c\d50c\b9bf', TRUE, TIMESTAMP '2025-08-17 01:56:25.306964', TIMESTAMP '2025-08-17 01:56:25.306964', NULL),
(12, 'notification_template_order_shipped', U&'\c8fc\bb38\c774 \bc1c\c1a1\b418\c5c8\c2b5\b2c8\b2e4. \cd94\c801\bc88\d638: {trackingNumber}', 'string', U&'\c8fc\bb38 \bc1c\c1a1 \c54c\b9bc \d15c\d50c\b9bf', TRUE, TIMESTAMP '2025-08-17 01:56:25.306964', TIMESTAMP '2025-08-17 01:56:25.306964', NULL),
(13, 'notification_template_cbm_exceeded', U&'CBM\c774 {cbm}m\00b3\b85c \c784\acc4\ac12\c744 \cd08\acfc\d558\c5ec \d56d\acf5\bc30\c1a1\c73c\b85c \c804\d658\b418\c5c8\c2b5\b2c8\b2e4.', 'string', U&'CBM \cd08\acfc \c54c\b9bc \d15c\d50c\b9bf', TRUE, TIMESTAMP '2025-08-17 01:56:25.306964', TIMESTAMP '2025-08-17 01:56:25.306964', NULL),
(14, 'notification_template_amount_exceeded', U&'THB \ae08\c561\c774 {amount}\b85c \c784\acc4\ac12\c744 \cd08\acfc\d569\b2c8\b2e4. \c218\cde8\c778 \cd94\ac00 \c815\bcf4\b97c \c785\b825\d574\c8fc\c138\c694.', 'string', U&'\ae08\c561 \cd08\acfc \c54c\b9bc \d15c\d50c\b9bf', TRUE, TIMESTAMP '2025-08-17 01:56:25.306964', TIMESTAMP '2025-08-17 01:56:25.306964', NULL);           
CREATE INDEX "PUBLIC"."IDX_CONFIG_KEY" ON "PUBLIC"."CONFIG"("CONFIG_KEY" NULLS FIRST);        
CREATE INDEX "PUBLIC"."IDX_CONFIG_SYSTEM" ON "PUBLIC"."CONFIG"("IS_SYSTEM" NULLS FIRST);      
CREATE CACHED TABLE "PUBLIC"."AUDIT_LOGS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ENTITY_TYPE" CHARACTER VARYING(50) NOT NULL,
    "ENTITY_ID" CHARACTER VARYING(50) NOT NULL,
    "ACTION" CHARACTER VARYING(10) NOT NULL,
    "USER_ID" BIGINT,
    "USER_EMAIL" CHARACTER VARYING(255),
    "USER_ROLE" CHARACTER VARYING(50),
    "OLD_VALUES" CHARACTER LARGE OBJECT,
    "NEW_VALUES" CHARACTER LARGE OBJECT,
    "CHANGED_FIELDS" CHARACTER LARGE OBJECT,
    "IP_ADDRESS" CHARACTER VARYING(45),
    "USER_AGENT" CHARACTER LARGE OBJECT,
    "REQUEST_ID" CHARACTER VARYING(100),
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);      
ALTER TABLE "PUBLIC"."AUDIT_LOGS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_83" PRIMARY KEY("ID");  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.AUDIT_LOGS;              
CREATE INDEX "PUBLIC"."IDX_AUDIT_LOGS_ENTITY" ON "PUBLIC"."AUDIT_LOGS"("ENTITY_TYPE" NULLS FIRST, "ENTITY_ID" NULLS FIRST);   
CREATE INDEX "PUBLIC"."IDX_AUDIT_LOGS_USER_ID" ON "PUBLIC"."AUDIT_LOGS"("USER_ID" NULLS FIRST);               
CREATE INDEX "PUBLIC"."IDX_AUDIT_LOGS_ACTION" ON "PUBLIC"."AUDIT_LOGS"("ACTION" NULLS FIRST); 
CREATE INDEX "PUBLIC"."IDX_AUDIT_LOGS_CREATED_AT" ON "PUBLIC"."AUDIT_LOGS"("CREATED_AT" NULLS FIRST);         
CREATE CACHED TABLE "PUBLIC"."NOTIFICATIONS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "USER_ID" BIGINT NOT NULL,
    "TYPE" CHARACTER VARYING(50) NOT NULL,
    "TITLE" CHARACTER VARYING(200) NOT NULL,
    "MESSAGE" CHARACTER LARGE OBJECT NOT NULL,
    "RELATED_ENTITY_TYPE" CHARACTER VARYING(50),
    "RELATED_ENTITY_ID" BIGINT,
    "STATUS" CHARACTER VARYING(20) DEFAULT 'unread',
    "PRIORITY" CHARACTER VARYING(10) DEFAULT 'normal',
    "SEND_EMAIL" BOOLEAN DEFAULT FALSE,
    "SEND_SMS" BOOLEAN DEFAULT FALSE,
    "EMAIL_SENT_AT" TIMESTAMP,
    "SMS_SENT_AT" TIMESTAMP,
    "READ_AT" TIMESTAMP,
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);          
ALTER TABLE "PUBLIC"."NOTIFICATIONS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.NOTIFICATIONS;           
CREATE INDEX "PUBLIC"."IDX_NOTIFICATIONS_USER_ID" ON "PUBLIC"."NOTIFICATIONS"("USER_ID" NULLS FIRST);         
CREATE INDEX "PUBLIC"."IDX_NOTIFICATIONS_STATUS" ON "PUBLIC"."NOTIFICATIONS"("STATUS" NULLS FIRST);           
CREATE INDEX "PUBLIC"."IDX_NOTIFICATIONS_TYPE" ON "PUBLIC"."NOTIFICATIONS"("TYPE" NULLS FIRST);               
CREATE INDEX "PUBLIC"."IDX_NOTIFICATIONS_CREATED_AT" ON "PUBLIC"."NOTIFICATIONS"("CREATED_AT" NULLS FIRST);   
CREATE CACHED TABLE "PUBLIC"."FILE_ATTACHMENTS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ENTITY_TYPE" CHARACTER VARYING(50) NOT NULL,
    "ENTITY_ID" BIGINT NOT NULL,
    "FILE_TYPE" CHARACTER VARYING(20) NOT NULL,
    "ORIGINAL_NAME" CHARACTER VARYING(500) NOT NULL,
    "STORED_NAME" CHARACTER VARYING(500) NOT NULL,
    "FILE_PATH" CHARACTER VARYING(1000) NOT NULL,
    "FILE_SIZE" BIGINT NOT NULL,
    "MIME_TYPE" CHARACTER VARYING(200),
    "UPLOADED_BY" BIGINT,
    "UPLOAD_IP" CHARACTER VARYING(45),
    "CREATED_AT" TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);         
ALTER TABLE "PUBLIC"."FILE_ATTACHMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_D3" PRIMARY KEY("ID");            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.FILE_ATTACHMENTS;        
CREATE INDEX "PUBLIC"."IDX_FILE_ATTACHMENTS_ENTITY" ON "PUBLIC"."FILE_ATTACHMENTS"("ENTITY_TYPE" NULLS FIRST, "ENTITY_ID" NULLS FIRST);       
CREATE INDEX "PUBLIC"."IDX_FILE_ATTACHMENTS_TYPE" ON "PUBLIC"."FILE_ATTACHMENTS"("FILE_TYPE" NULLS FIRST);    
CREATE INDEX "PUBLIC"."IDX_FILE_ATTACHMENTS_UPLOADED_BY" ON "PUBLIC"."FILE_ATTACHMENTS"("UPLOADED_BY" NULLS FIRST);           
ALTER TABLE "PUBLIC"."PAYMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_810" CHECK("PAYMENT_TYPE" IN('order', 'shipping', 'additional')) NOCHECK; 
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B725" CHECK("ORDER_TYPE" IN('air', 'sea')) NOCHECK;        
ALTER TABLE "PUBLIC"."ESTIMATES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_80E" CHECK("ESTIMATE_TYPE" IN('preliminary', 'final')) NOCHECK;          
ALTER TABLE "PUBLIC"."PARTNER_REFERRALS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E6" CHECK("COMMISSION_STATUS" IN('pending', 'earned', 'paid')) NOCHECK;          
ALTER TABLE "PUBLIC"."PAYMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_810F" CHECK("PAYMENT_METHOD" IN('credit_card', 'bank_transfer', 'digital_wallet', 'cash')) NOCHECK;       
ALTER TABLE "PUBLIC"."FILE_ATTACHMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_D3D" CHECK("FILE_TYPE" IN('document', 'image', 'label', 'invoice', 'other')) NOCHECK;             
ALTER TABLE "PUBLIC"."SHIPMENT_TRACKING" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A2D1" CHECK("STATUS" IN('pending', 'in_transit', 'customs', 'out_for_delivery', 'delivered', 'failed')) NOCHECK; 
ALTER TABLE "PUBLIC"."ORDER_BOXES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2B9A" CHECK("STATUS" IN('registered', 'packed', 'shipped', 'delivered')) NOCHECK;      
ALTER TABLE "PUBLIC"."AUDIT_LOGS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_838" CHECK("ACTION" IN('CREATE', 'UPDATE', 'DELETE', 'VIEW', 'APPROVE', 'REJECT')) NOCHECK;             
ALTER TABLE "PUBLIC"."NOTIFICATIONS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_594" CHECK("PRIORITY" IN('low', 'normal', 'high', 'urgent')) NOCHECK;
ALTER TABLE "PUBLIC"."REPACK_PHOTOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_71" CHECK("PHOTO_TYPE" IN('before', 'during', 'after')) NOCHECK;     
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B72" CHECK("STATUS" IN('requested', 'confirmed', 'in_progress', 'shipped', 'delivered', 'cancelled', 'delayed')) NOCHECK;  
ALTER TABLE "PUBLIC"."PAYMENTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_810FF" CHECK("PAYMENT_STATUS" IN('pending', 'completed', 'failed', 'refunded')) NOCHECK;  
ALTER TABLE "PUBLIC"."ESTIMATES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_80EC" CHECK("STATUS" IN('draft', 'sent', 'accepted', 'rejected', 'expired')) NOCHECK;    
ALTER TABLE "PUBLIC"."NOTIFICATIONS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_59" CHECK("STATUS" IN('unread', 'read', 'archived')) NOCHECK;        
ALTER TABLE "PUBLIC"."CONFIG" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_76D2" CHECK("CONFIG_TYPE" IN('string', 'number', 'boolean', 'json')) NOCHECK;               
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4D" UNIQUE NULLS DISTINCT ("EMAIL");         
ALTER TABLE "PUBLIC"."CONFIG" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_76D" UNIQUE NULLS DISTINCT ("CONFIG_KEY");  
ALTER TABLE "PUBLIC"."ORDER_BOXES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2B9AA" UNIQUE NULLS DISTINCT ("LABEL_CODE");           
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B7" UNIQUE NULLS DISTINCT ("ORDER_CODE");  
ALTER TABLE "PUBLIC"."SHIPMENT_TRACKING" ADD CONSTRAINT "PUBLIC"."FK_SHIPMENT_TRACKING_ORDER" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") ON DELETE CASCADE NOCHECK;           
ALTER TABLE "PUBLIC"."NOTIFICATIONS" ADD CONSTRAINT "PUBLIC"."FK_NOTIFICATIONS_USER" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") ON DELETE CASCADE NOCHECK;      
ALTER TABLE "PUBLIC"."ESTIMATES" ADD CONSTRAINT "PUBLIC"."FK_ESTIMATES_APPROVED_BY" FOREIGN KEY("APPROVED_BY") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;     
ALTER TABLE "PUBLIC"."CONFIG" ADD CONSTRAINT "PUBLIC"."FK_CONFIG_UPDATED_BY" FOREIGN KEY("UPDATED_BY") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."ESTIMATES" ADD CONSTRAINT "PUBLIC"."FK_ESTIMATES_CREATED_BY" FOREIGN KEY("CREATED_BY") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."PARTNER_REFERRALS" ADD CONSTRAINT "PUBLIC"."FK_PARTNER_REFERRALS_PARTNER" FOREIGN KEY("PARTNER_USER_ID") REFERENCES "PUBLIC"."USERS"("ID") ON DELETE CASCADE NOCHECK;   
ALTER TABLE "PUBLIC"."REPACK_PHOTOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_71E" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") ON DELETE CASCADE NOCHECK;           
ALTER TABLE "PUBLIC"."PARTNER_REFERRALS" ADD CONSTRAINT "PUBLIC"."FK_PARTNER_REFERRALS_FIRST_ORD" FOREIGN KEY("FIRST_ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."AUDIT_LOGS" ADD CONSTRAINT "PUBLIC"."FK_AUDIT_LOGS_USER" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") ON DELETE SET NULL NOCHECK;           
ALTER TABLE "PUBLIC"."PAYMENTS" ADD CONSTRAINT "PUBLIC"."FK_PAYMENTS_ORDER" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") ON DELETE CASCADE NOCHECK;             
ALTER TABLE "PUBLIC"."REPACK_PHOTOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_71E7" FOREIGN KEY("BOX_ID") REFERENCES "PUBLIC"."ORDER_BOXES"("ID") ON DELETE CASCADE NOCHECK;       
ALTER TABLE "PUBLIC"."FILE_ATTACHMENTS" ADD CONSTRAINT "PUBLIC"."FK_FILE_ATTACHMENTS_UPLOADED_BY" FOREIGN KEY("UPLOADED_BY") REFERENCES "PUBLIC"."USERS"("ID") ON DELETE SET NULL NOCHECK;    
ALTER TABLE "PUBLIC"."ESTIMATES" ADD CONSTRAINT "PUBLIC"."FK_ESTIMATES_ORDER" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") ON DELETE CASCADE NOCHECK;           
ALTER TABLE "PUBLIC"."ORDER_BOXES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2B9AA3" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") ON DELETE CASCADE NOCHECK;          
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8B7256" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."PARTNER_REFERRALS" ADD CONSTRAINT "PUBLIC"."FK_PARTNER_REFERRALS_REFERRED" FOREIGN KEY("REFERRED_USER_ID") REFERENCES "PUBLIC"."USERS"("ID") ON DELETE CASCADE NOCHECK; 
ALTER TABLE "PUBLIC"."REPACK_PHOTOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_71E7E" FOREIGN KEY("UPLOADED_BY") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;         
