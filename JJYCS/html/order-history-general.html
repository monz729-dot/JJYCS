<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YCS ë¬¼ë¥˜ ì‹œìŠ¤í…œ - ì£¼ë¬¸ ì´ë ¥</title>
    <link rel="stylesheet" href="css/globals.css">
    <style>
        .page-container {
            background: var(--gray-50);
            min-height: 100vh;
            padding-bottom: 5rem;
        }
        
        .header {
            background: white;
            border-bottom: 1px solid var(--primary-100);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 40;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .logo {
            width: 2.5rem;
            height: 2.5rem;
            background: var(--primary-500);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1rem;
        }
        
        .header-info h1 {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--primary-800);
            margin: 0;
        }
        
        .back-btn {
            background: none;
            border: 1px solid var(--primary-200);
            color: var(--primary-600);
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .back-btn:hover {
            background: var(--primary-50);
            border-color: var(--primary-300);
        }
        
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        .filter-section {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .filter-row {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .filter-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-700);
        }
        
        .filter-select,
        .filter-input {
            padding: 0.75rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            min-width: 150px;
        }
        
        .filter-btn {
            background: var(--primary-500);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            margin-top: 1.5rem;
        }
        
        .filter-btn:hover {
            background: var(--primary-600);
        }
        
        .orders-section {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary-800);
        }
        
        .results-count {
            font-size: 0.875rem;
            color: var(--gray-600);
        }
        
        .order-card {
            border: 1px solid var(--gray-200);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.2s ease;
        }
        
        .order-card:hover {
            border-color: var(--primary-300);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .order-number {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary-800);
            margin-bottom: 0.25rem;
        }
        
        .order-date {
            font-size: 0.875rem;
            color: var(--gray-600);
        }
        
        .order-status {
            text-align: right;
        }
        
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }
        
        .status-requested {
            background: var(--warning-100);
            color: var(--warning-700);
        }
        
        .status-preparing {
            background: var(--primary-100);
            color: var(--primary-700);
        }
        
        .status-shipping {
            background: #f3f4f6;
            color: #8b5cf6;
        }
        
        .status-delivered {
            background: var(--success-100);
            color: var(--success-700);
        }
        
        .status-cancelled {
            background: var(--danger-100);
            color: var(--danger-700);
        }
        
        .order-amount {
            font-size: 0.875rem;
            color: var(--gray-600);
        }
        
        .order-items {
            margin-bottom: 1rem;
        }
        
        .order-summary {
            font-size: 0.875rem;
            color: var(--gray-700);
            line-height: 1.5;
        }
        
        .order-actions {
            display: flex;
            gap: 0.75rem;
            justify-content: flex-end;
        }
        
        .action-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        
        .btn-primary {
            background: var(--primary-500);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-600);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--primary-600);
            border: 1px solid var(--primary-300);
        }
        
        .btn-outline:hover {
            background: var(--primary-50);
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }
        
        .pagination-btn {
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--gray-300);
            background: white;
            color: var(--gray-700);
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.875rem;
        }
        
        .pagination-btn:hover {
            background: var(--gray-50);
        }
        
        .pagination-btn.active {
            background: var(--primary-500);
            color: white;
            border-color: var(--primary-500);
        }
        
        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
            color: var(--gray-600);
        }
        
        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }
        
        @media (max-width: 768px) {
            .main-content {
                padding: 1rem 0.5rem;
            }
            
            .filter-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-group {
                width: 100%;
            }
            
            .filter-select,
            .filter-input {
                min-width: auto;
                width: 100%;
            }
            
            .order-header {
                flex-direction: column;
                gap: 1rem;
                text-align: left;
            }
            
            .order-status {
                text-align: left;
            }
            
            .order-actions {
                justify-content: flex-start;
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- í—¤ë” -->
        <div class="header">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo">YCS</div>
                    <div class="header-info">
                        <h1>ì£¼ë¬¸ ì´ë ¥</h1>
                    </div>
                </div>
                <button class="back-btn" onclick="window.history.back()">ë’¤ë¡œê°€ê¸°</button>
            </div>
        </div>
        
        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="main-content">
            <!-- í•„í„° ì„¹ì…˜ -->
            <div class="filter-section">
                <div class="filter-row">
                    <div class="filter-group">
                        <label class="filter-label">ê¸°ê°„</label>
                        <select class="filter-select" id="periodFilter">
                            <option value="all">ì „ì²´</option>
                            <option value="1month">ìµœê·¼ 1ê°œì›”</option>
                            <option value="3months">ìµœê·¼ 3ê°œì›”</option>
                            <option value="6months">ìµœê·¼ 6ê°œì›”</option>
                            <option value="1year">ìµœê·¼ 1ë…„</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">ìƒíƒœ</label>
                        <select class="filter-select" id="statusFilter">
                            <option value="all">ì „ì²´</option>
                            <option value="requested">ìš”ì²­</option>
                            <option value="preparing">ì¤€ë¹„ì¤‘</option>
                            <option value="shipping">ë°°ì†¡ì¤‘</option>
                            <option value="delivered">ë°°ì†¡ì™„ë£Œ</option>
                            <option value="cancelled">ì·¨ì†Œ</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">ì£¼ë¬¸ë²ˆí˜¸</label>
                        <input type="text" class="filter-input" id="orderNumberFilter" placeholder="ì£¼ë¬¸ë²ˆí˜¸ ê²€ìƒ‰">
                    </div>
                </div>
                
                <button class="filter-btn" onclick="applyFilters()">ê²€ìƒ‰</button>
            </div>
            
            <!-- ì£¼ë¬¸ ëª©ë¡ -->
            <div class="orders-section">
                <div class="section-header">
                    <h2 class="section-title">ì£¼ë¬¸ ëª©ë¡</h2>
                    <div class="results-count" id="resultsCount">ì´ 8ê±´</div>
                </div>
                
                <div id="ordersList">
                    <!-- ì£¼ë¬¸ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
                
                <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
                <div class="pagination" id="pagination">
                    <!-- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë°ëª¨ ì£¼ë¬¸ ë°ì´í„°
        const ordersData = [
            {
                id: 'YCS202401008',
                date: '2024-01-20',
                status: 'delivered',
                statusText: 'ë°°ì†¡ì™„ë£Œ',
                items: [
                    { name: 'ìŠ¤ë§ˆíŠ¸í° ì¼€ì´ìŠ¤', quantity: 2, price: 25000 },
                    { name: 'ë¬´ì„  ì´ì–´í°', quantity: 1, price: 150000 }
                ],
                total: 200000,
                recipient: 'í™ê¸¸ë™',
                address: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123'
            },
            {
                id: 'YCS202401007',
                date: '2024-01-18',
                status: 'shipping',
                statusText: 'ë°°ì†¡ì¤‘',
                items: [
                    { name: 'í™”ì¥í’ˆ ì„¸íŠ¸', quantity: 1, price: 80000 },
                    { name: 'í–¥ìˆ˜', quantity: 2, price: 120000 }
                ],
                total: 320000,
                recipient: 'ê¹€ì˜í¬',
                address: 'ë¶€ì‚°ì‹œ í•´ìš´ëŒ€êµ¬ í•´ìš´ëŒ€ë¡œ 456'
            },
            {
                id: 'YCS202401006',
                date: '2024-01-15',
                status: 'preparing',
                statusText: 'ì¤€ë¹„ì¤‘',
                items: [
                    { name: 'ìš´ë™í™”', quantity: 1, price: 180000 }
                ],
                total: 180000,
                recipient: 'ë°•ë¯¼ìˆ˜',
                address: 'ëŒ€êµ¬ì‹œ ì¤‘êµ¬ ì¤‘ì•™ë¡œ 789'
            },
            {
                id: 'YCS202401005',
                date: '2024-01-12',
                status: 'delivered',
                statusText: 'ë°°ì†¡ì™„ë£Œ',
                items: [
                    { name: 'ë…¸íŠ¸ë¶ ê°€ë°©', quantity: 1, price: 90000 },
                    { name: 'ë§ˆìš°ìŠ¤ íŒ¨ë“œ', quantity: 3, price: 45000 }
                ],
                total: 135000,
                recipient: 'ì´ìˆ˜ì§„',
                address: 'ì¸ì²œì‹œ ë‚¨ë™êµ¬ ë…¼í˜„ë¡œ 321'
            },
            {
                id: 'YCS202401004',
                date: '2024-01-10',
                status: 'cancelled',
                statusText: 'ì·¨ì†Œ',
                items: [
                    { name: 'ë¸”ë£¨íˆ¬ìŠ¤ ìŠ¤í”¼ì»¤', quantity: 2, price: 200000 }
                ],
                total: 400000,
                recipient: 'ìµœë¯¼í˜¸',
                address: 'ê´‘ì£¼ì‹œ ì„œêµ¬ ìƒë¬´ëŒ€ë¡œ 654'
            },
            {
                id: 'YCS202401003',
                date: '2024-01-08',
                status: 'delivered',
                statusText: 'ë°°ì†¡ì™„ë£Œ',
                items: [
                    { name: 'ì˜ë¥˜ ì„¸íŠ¸', quantity: 3, price: 150000 }
                ],
                total: 450000,
                recipient: 'ì •ì˜ìš°',
                address: 'ëŒ€ì „ì‹œ ìœ ì„±êµ¬ ëŒ€í•™ë¡œ 987'
            },
            {
                id: 'YCS202401002',
                date: '2024-01-05',
                status: 'delivered',
                statusText: 'ë°°ì†¡ì™„ë£Œ',
                items: [
                    { name: 'ê±´ê°• ë³´ì¡°ì‹í’ˆ', quantity: 2, price: 120000 }
                ],
                total: 240000,
                recipient: 'ê¹€ì˜í¬',
                address: 'ìš¸ì‚°ì‹œ ë‚¨êµ¬ ì‚¼ì‚°ë¡œ 147'
            },
            {
                id: 'YCS202401001',
                date: '2024-01-03',
                status: 'delivered',
                statusText: 'ë°°ì†¡ì™„ë£Œ',
                items: [
                    { name: 'ì „ìì±… ë¦¬ë”ê¸°', quantity: 1, price: 300000 }
                ],
                total: 300000,
                recipient: 'í™ê¸¸ë™',
                address: 'ì„¸ì¢…ì‹œ í•œëˆ„ë¦¬ëŒ€ë¡œ 258'
            }
        ];

        let filteredOrders = [...ordersData];
        let currentPage = 1;
        const itemsPerPage = 5;

        function renderOrders() {
            const ordersList = document.getElementById('ordersList');
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const currentOrders = filteredOrders.slice(startIndex, endIndex);

            if (currentOrders.length === 0) {
                ordersList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ“¦</div>
                        <h3>ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p>ê²€ìƒ‰ ì¡°ê±´ì„ ë³€ê²½í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì£¼ë¬¸ì„ ìƒì„±í•´ë³´ì„¸ìš”.</p>
                    </div>
                `;
                return;
            }

            ordersList.innerHTML = currentOrders.map(order => {
                const itemsSummary = order.items.length > 1 
                    ? `${order.items[0].name} ì™¸ ${order.items.length - 1}ê±´`
                    : order.items[0].name;
                
                return `
                    <div class="order-card">
                        <div class="order-header">
                            <div>
                                <div class="order-number">${order.id}</div>
                                <div class="order-date">${order.date}</div>
                            </div>
                            <div class="order-status">
                                <div class="status-badge status-${order.status}">${order.statusText}</div>
                                <div class="order-amount">${order.total.toLocaleString()}ì›</div>
                            </div>
                        </div>
                        
                        <div class="order-items">
                            <div class="order-summary">
                                <strong>${itemsSummary}</strong><br>
                                ìˆ˜ì·¨ì¸: ${order.recipient}<br>
                                ë°°ì†¡ì§€: ${order.address}
                            </div>
                        </div>
                        
                        <div class="order-actions">
                            <button class="action-btn btn-outline" onclick="viewOrderDetail('${order.id}')">
                                ìƒì„¸ë³´ê¸°
                            </button>
                            ${order.status !== 'cancelled' && order.status !== 'delivered' ? `
                                <button class="action-btn btn-primary" onclick="trackOrder('${order.id}')">
                                    ë°°ì†¡ì¶”ì 
                                </button>
                            ` : ''}
                            ${order.status === 'delivered' ? `
                                <button class="action-btn btn-primary" onclick="reorder('${order.id}')">
                                    ì¬ì£¼ë¬¸
                                </button>
                            ` : ''}
                        </div>
                    </div>
                `;
            }).join('');

            // ê²°ê³¼ ê°œìˆ˜ ì—…ë°ì´íŠ¸
            document.getElementById('resultsCount').textContent = `ì´ ${filteredOrders.length}ê±´`;
            
            renderPagination();
        }

        function renderPagination() {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }
            
            let paginationHTML = '';
            
            // ì´ì „ ë²„íŠ¼
            if (currentPage > 1) {
                paginationHTML += `<button class="pagination-btn" onclick="changePage(${currentPage - 1})">ì´ì „</button>`;
            }
            
            // í˜ì´ì§€ ë²ˆí˜¸ë“¤
            for (let i = 1; i <= totalPages; i++) {
                const activeClass = i === currentPage ? 'active' : '';
                paginationHTML += `<button class="pagination-btn ${activeClass}" onclick="changePage(${i})">${i}</button>`;
            }
            
            // ë‹¤ìŒ ë²„íŠ¼
            if (currentPage < totalPages) {
                paginationHTML += `<button class="pagination-btn" onclick="changePage(${currentPage + 1})">ë‹¤ìŒ</button>`;
            }
            
            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            renderOrders();
        }

        function applyFilters() {
            const period = document.getElementById('periodFilter').value;
            const status = document.getElementById('statusFilter').value;
            const orderNumber = document.getElementById('orderNumberFilter').value.toLowerCase();
            
            filteredOrders = ordersData.filter(order => {
                // ê¸°ê°„ í•„í„°
                if (period !== 'all') {
                    const orderDate = new Date(order.date);
                    const now = new Date();
                    const monthsAgo = period === '1month' ? 1 : 
                                     period === '3months' ? 3 : 
                                     period === '6months' ? 6 : 12;
                    
                    const filterDate = new Date();
                    filterDate.setMonth(filterDate.getMonth() - monthsAgo);
                    
                    if (orderDate < filterDate) return false;
                }
                
                // ìƒíƒœ í•„í„°
                if (status !== 'all' && order.status !== status) return false;
                
                // ì£¼ë¬¸ë²ˆí˜¸ í•„í„°
                if (orderNumber && !order.id.toLowerCase().includes(orderNumber)) return false;
                
                return true;
            });
            
            currentPage = 1;
            renderOrders();
        }

        function viewOrderDetail(orderId) {
            // ì£¼ë¬¸ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = `order-detail.html?id=${orderId}`;
        }

        function trackOrder(orderId) {
            // ì£¼ë¬¸ ì¶”ì  í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = `order-tracking.html?order=${orderId}`;
        }

        function reorder(orderId) {
            const order = ordersData.find(o => o.id === orderId);
            if (order) {
                const confirmed = confirm(`${order.items[0].name} ${order.items.length > 1 ? 'ì™¸ ' + (order.items.length - 1) + 'ê±´' : ''}ì„ ì¬ì£¼ë¬¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`);
                if (confirmed) {
                    alert('ì¬ì£¼ë¬¸ì´ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    // ì‹¤ì œë¡œëŠ” ì£¼ë¬¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ê±°ë‚˜ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€
                }
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ë Œë”ë§
        window.addEventListener('load', function() {
            renderOrders();
        });
    </script>
</body>
</html>