<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>파트너 마이페이지 - YSC 물류관리 시스템</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <style>
        .bg-gradient-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        }

        .shadow-blue {
            box-shadow: 0 4px 14px -2px rgba(59, 130, 246, 0.15);
        }

        .animate-scale-in {
            animation: scaleIn 0.3s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.95);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .tab-button {
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: white;
            color: #1d4ed8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }

        .tab-button:not(.active):hover {
            background: rgba(255, 255, 255, 0.5);
            transform: translateY(-1px);
        }

        .input-field {
            transition: all 0.3s ease;
        }

        .input-field:focus {
            transform: translateY(-1px);
        }

        .stat-card {
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2);
        }

        .notification-toggle {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }

        .notification-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #cbd5e1;
            transition: 0.4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #3b82f6;
        }

        input:checked + .slider:before {
            transform: translateX(20px);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100">
        <!-- 헤더 -->
        <header class="bg-white border-b border-blue-100 shadow-sm">
            <div class="flex items-center justify-between px-4 py-3">
                <div class="flex items-center gap-3">
                    <button
                        onclick="navigateBack()"
                        class="p-2 text-blue-600/60 hover:text-blue-700 hover:bg-blue-50 rounded-full transition-all opacity-60 hover:opacity-100"
                        aria-label="파트너 대시보드로 돌아가기"
                    >
                        <i data-lucide="arrow-left" class="h-5 w-5"></i>
                    </button>
                    <div class="w-10 h-10 bg-gradient-primary rounded-full flex items-center justify-center shadow-blue">
                        <i data-lucide="crown" class="h-5 w-5 text-white"></i>
                    </div>
                    <div>
                        <h1 class="font-semibold text-blue-900">파트너 설정</h1>
                        <p class="text-xs text-blue-600">파트너 | <span id="userName">파트너명</span></p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border border-green-300 text-green-600 bg-green-50">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"></div>
                        승인됨
                    </span>
                </div>
            </div>
        </header>

        <div class="p-4 max-w-4xl mx-auto">
            <!-- 메시지 표시 -->
            <div id="messageAlert" class="hidden mb-6 animate-scale-in">
                <div class="p-4 rounded-lg">
                    <p id="messageText"></p>
                </div>
            </div>

            <!-- 파트너 상태 카드 -->
            <div class="bg-white rounded-lg shadow-blue border border-blue-100 mb-6">
                <div class="p-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center">
                                <i data-lucide="crown" class="h-8 w-8 text-white"></i>
                            </div>
                            <div>
                                <h3 id="companyNameDisplay" class="font-semibold text-blue-900">프리미엄 쇼핑몰</h3>
                                <p class="text-blue-600">파트너 ID: <span id="partnerId">PART-2024-001</span></p>
                                <div class="flex items-center gap-2 mt-1">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border border-purple-300 text-purple-600 bg-purple-50">
                                        <i data-lucide="crown" class="h-3 w-3 mr-1"></i>
                                        제휴마케팅 파트너
                                    </span>
                                    <div class="flex items-center gap-1">
                                        <i data-lucide="star" class="h-4 w-4 text-yellow-500 fill-current"></i>
                                        <span class="text-sm text-blue-600">4.8</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold text-blue-900">2024.01.15</div>
                            <div class="text-sm text-blue-600">가입일</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 탭 메뉴 -->
            <div class="w-full">
                <div class="grid w-full grid-cols-4 bg-blue-50/50 rounded-lg p-1 mb-6">
                    <button id="profileTab" class="tab-button py-3 px-2 rounded-md active flex items-center justify-center gap-1" onclick="switchTab('profile')">
                        <i data-lucide="user" class="h-4 w-4"></i>
                        <span class="hidden sm:inline text-sm">프로필</span>
                    </button>
                    <button id="businessTab" class="tab-button py-3 px-2 rounded-md flex items-center justify-center gap-1" onclick="switchTab('business')">
                        <i data-lucide="building" class="h-4 w-4"></i>
                        <span class="hidden sm:inline text-sm">사업정보</span>
                    </button>
                    <button id="securityTab" class="tab-button py-3 px-2 rounded-md flex items-center justify-center gap-1" onclick="switchTab('security')">
                        <i data-lucide="lock" class="h-4 w-4"></i>
                        <span class="hidden sm:inline text-sm">보안</span>
                    </button>
                    <button id="notificationsTab" class="tab-button py-3 px-2 rounded-md flex items-center justify-center gap-1" onclick="switchTab('notifications')">
                        <i data-lucide="bell" class="h-4 w-4"></i>
                        <span class="hidden sm:inline text-sm">알림</span>
                    </button>
                </div>

                <!-- 프로필 탭 -->
                <div id="profileContent" class="tab-content">
                    <div class="bg-white rounded-lg shadow-blue border border-blue-100">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-medium text-blue-900">개인 정보</h3>
                            <p class="text-sm text-gray-600">파트너 개인 정보를 관리합니다</p>
                        </div>
                        <div class="p-6">
                            <form id="profileForm" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="space-y-3">
                                        <label for="name" class="text-sm font-medium text-blue-900">이름 *</label>
                                        <input
                                            id="name"
                                            type="text"
                                            placeholder="이름을 입력하세요"
                                            class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                    </div>

                                    <div class="space-y-3">
                                        <label for="email" class="text-sm font-medium text-blue-900">이메일 *</label>
                                        <input
                                            id="email"
                                            type="email"
                                            placeholder="example@domain.com"
                                            class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                    </div>

                                    <div class="space-y-3">
                                        <label for="phone" class="text-sm font-medium text-blue-900">휴대폰 번호 *</label>
                                        <input
                                            id="phone"
                                            type="tel"
                                            placeholder="010-1234-5678"
                                            class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                    </div>

                                    <div class="space-y-3">
                                        <label for="mallName" class="text-sm font-medium text-blue-900">마케팅몰 명</label>
                                        <input
                                            id="mallName"
                                            type="text"
                                            placeholder="마케팅몰 이름"
                                            class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                    </div>
                                </div>

                                <button 
                                    type="submit" 
                                    class="w-full md:w-auto px-6 py-3 bg-blue-600/20 hover:bg-gradient-primary border border-blue-300/50 hover:border-blue-500 text-blue-700 hover:text-white rounded-lg transition-all duration-500 opacity-70 hover:opacity-100 hover:shadow-blue flex items-center justify-center gap-2"
                                >
                                    <i data-lucide="save" class="h-4 w-4"></i>
                                    <span id="profileSaveText">프로필 저장</span>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- 사업정보 탭 -->
                <div id="businessContent" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-blue border border-blue-100">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-medium text-blue-900">사업자 정보</h3>
                            <p class="text-sm text-gray-600">파트너 사업자 정보를 관리합니다</p>
                        </div>
                        <div class="p-6">
                            <form id="businessForm" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="space-y-3">
                                        <label for="companyName" class="text-sm font-medium text-blue-900">회사명 *</label>
                                        <input
                                            id="companyName"
                                            type="text"
                                            placeholder="회사명을 입력하세요"
                                            class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                    </div>

                                    <div class="space-y-3">
                                        <label for="businessNumber" class="text-sm font-medium text-blue-900">사업자등록번호 *</label>
                                        <input
                                            id="businessNumber"
                                            type="text"
                                            placeholder="123-45-67890"
                                            class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                    </div>

                                    <div class="space-y-3">
                                        <label for="mallCategory" class="text-sm font-medium text-blue-900">몰 카테고리</label>
                                        <select
                                            id="mallCategory"
                                            class="w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        >
                                            <option value="패션/뷰티">패션/뷰티</option>
                                            <option value="생활/가전">생활/가전</option>
                                            <option value="푸드/건강">푸드/건강</option>
                                            <option value="스포츠/레저">스포츠/레저</option>
                                            <option value="육아/완구">육아/완구</option>
                                        </select>
                                    </div>

                                    <div class="space-y-3">
                                        <label for="targetAge" class="text-sm font-medium text-blue-900">타겟 고객층</label>
                                        <input
                                            id="targetAge"
                                            type="text"
                                            placeholder="20-40대 여성"
                                            class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                    </div>
                                </div>

                                <!-- 마케팅 통계 -->
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 pt-6 border-t border-blue-100">
                                    <div class="stat-card text-center p-4 bg-blue-50/50 rounded-lg">
                                        <i data-lucide="shopping-bag" class="h-6 w-6 text-blue-600 mx-auto mb-2"></i>
                                        <div class="text-xl font-bold text-blue-900">1,284</div>
                                        <div class="text-sm text-blue-600">총 주문</div>
                                    </div>
                                    <div class="stat-card text-center p-4 bg-green-50/50 rounded-lg">
                                        <i data-lucide="trending-up" class="h-6 w-6 text-green-600 mx-auto mb-2"></i>
                                        <div class="text-xl font-bold text-green-900">₩8.9M</div>
                                        <div class="text-sm text-green-600">월 매출</div>
                                    </div>
                                    <div class="stat-card text-center p-4 bg-yellow-50/50 rounded-lg">
                                        <i data-lucide="star" class="h-6 w-6 text-yellow-600 mx-auto mb-2"></i>
                                        <div class="text-xl font-bold text-yellow-900">4.8</div>
                                        <div class="text-sm text-yellow-600">몰 평점</div>
                                    </div>
                                    <div class="stat-card text-center p-4 bg-purple-50/50 rounded-lg">
                                        <i data-lucide="users" class="h-6 w-6 text-purple-600 mx-auto mb-2"></i>
                                        <div class="text-xl font-bold text-purple-900">2,456</div>
                                        <div class="text-sm text-purple-600">회원수</div>
                                    </div>
                                </div>

                                <button 
                                    type="submit" 
                                    class="w-full md:w-auto px-6 py-3 bg-blue-600/20 hover:bg-gradient-primary border border-blue-300/50 hover:border-blue-500 text-blue-700 hover:text-white rounded-lg transition-all duration-500 opacity-70 hover:opacity-100 hover:shadow-blue flex items-center justify-center gap-2"
                                >
                                    <i data-lucide="save" class="h-4 w-4"></i>
                                    <span id="businessSaveText">사업정보 저장</span>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- 보안 탭 -->
                <div id="securityContent" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-blue border border-blue-100">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-medium text-blue-900">보안 설정</h3>
                            <p class="text-sm text-gray-600">비밀번호 변경 및 보안 설정을 관리합니다</p>
                        </div>
                        <div class="p-6">
                            <form id="securityForm" class="space-y-6">
                                <div class="space-y-3">
                                    <label for="currentPassword" class="text-sm font-medium text-blue-900">현재 비밀번호 *</label>
                                    <div class="relative">
                                        <input
                                            id="currentPassword"
                                            type="password"
                                            placeholder="현재 비밀번호"
                                            class="input-field w-full h-12 px-4 pr-12 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                        <button
                                            type="button"
                                            onclick="togglePassword('currentPassword')"
                                            class="absolute right-4 top-1/2 transform -translate-y-1/2 text-blue-600/60 hover:text-blue-700 transition-colors opacity-70 hover:opacity-100"
                                        >
                                            <i data-lucide="eye" class="h-5 w-5"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="space-y-3">
                                    <label for="newPassword" class="text-sm font-medium text-blue-900">새 비밀번호 *</label>
                                    <div class="relative">
                                        <input
                                            id="newPassword"
                                            type="password"
                                            placeholder="새 비밀번호 (8자 이상)"
                                            class="input-field w-full h-12 px-4 pr-12 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                        />
                                        <button
                                            type="button"
                                            onclick="togglePassword('newPassword')"
                                            class="absolute right-4 top-1/2 transform -translate-y-1/2 text-blue-600/60 hover:text-blue-700 transition-colors opacity-70 hover:opacity-100"
                                        >
                                            <i data-lucide="eye" class="h-5 w-5"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="space-y-3">
                                    <label for="confirmPassword" class="text-sm font-medium text-blue-900">새 비밀번호 확인 *</label>
                                    <input
                                        id="confirmPassword"
                                        type="password"
                                        placeholder="새 비밀번호 확인"
                                        class="input-field w-full h-12 px-4 border border-blue-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-blue-50/30 hover:bg-blue-50/50 focus:bg-white transition-all duration-300"
                                    />
                                </div>

                                <button 
                                    type="submit" 
                                    class="w-full md:w-auto px-6 py-3 bg-blue-600/20 hover:bg-gradient-primary border border-blue-300/50 hover:border-blue-500 text-blue-700 hover:text-white rounded-lg transition-all duration-500 opacity-70 hover:opacity-100 hover:shadow-blue flex items-center justify-center gap-2"
                                >
                                    <i data-lucide="lock" class="h-4 w-4"></i>
                                    <span id="securitySaveText">비밀번호 변경</span>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- 알림 탭 -->
                <div id="notificationsContent" class="tab-content hidden">
                    <div class="bg-white rounded-lg shadow-blue border border-blue-100">
                        <div class="p-6 border-b border-gray-200">
                            <h3 class="text-lg font-medium text-blue-900">알림 설정</h3>
                            <p class="text-sm text-gray-600">파트너 알림 설정을 관리합니다</p>
                        </div>
                        <div class="p-6 space-y-6">
                            <div class="flex items-center justify-between p-4 border border-blue-200 rounded-lg bg-blue-50/30">
                                <div>
                                    <label class="text-sm font-medium text-blue-900">새 주문 알림</label>
                                    <p class="text-sm text-blue-600">마케팅몰 신규 주문 시 알림</p>
                                </div>
                                <label class="notification-toggle">
                                    <input type="checkbox" id="newOrders" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-blue-200 rounded-lg bg-blue-50/30">
                                <div>
                                    <label class="text-sm font-medium text-blue-900">주문 업데이트 알림</label>
                                    <p class="text-sm text-blue-600">주문 상태 변경 시 알림</p>
                                </div>
                                <label class="notification-toggle">
                                    <input type="checkbox" id="orderUpdates" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-blue-200 rounded-lg bg-blue-50/30">
                                <div>
                                    <label class="text-sm font-medium text-blue-900">정산 알림</label>
                                    <p class="text-sm text-blue-600">마케팅 수수료 정산 관련 알림</p>
                                </div>
                                <label class="notification-toggle">
                                    <input type="checkbox" id="paymentNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-blue-200 rounded-lg bg-blue-50/30">
                                <div>
                                    <label class="text-sm font-medium text-blue-900">시스템 알림</label>
                                    <p class="text-sm text-blue-600">시스템 공지사항 및 업데이트 알림</p>
                                </div>
                                <label class="notification-toggle">
                                    <input type="checkbox" id="systemNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-blue-200 rounded-lg bg-blue-50/30">
                                <div>
                                    <label class="text-sm font-medium text-blue-900">이메일 알림</label>
                                    <p class="text-sm text-blue-600">이메일로 알림 받기</p>
                                </div>
                                <label class="notification-toggle">
                                    <input type="checkbox" id="emailNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-blue-200 rounded-lg bg-blue-50/30">
                                <div>
                                    <label class="text-sm font-medium text-blue-900">SMS 알림</label>
                                    <p class="text-sm text-blue-600">SMS로 중요 알림 받기</p>
                                </div>
                                <label class="notification-toggle">
                                    <input type="checkbox" id="smsNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <button 
                                type="button" 
                                onclick="saveNotifications()"
                                class="w-full md:w-auto px-6 py-3 bg-blue-600/20 hover:bg-gradient-primary border border-blue-300/50 hover:border-blue-500 text-blue-700 hover:text-white rounded-lg transition-all duration-500 opacity-70 hover:opacity-100 hover:shadow-blue flex items-center justify-center gap-2"
                            >
                                <i data-lucide="bell" class="h-4 w-4"></i>
                                <span id="notificationsSaveText">알림 설정 저장</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 전역 변수
        let isLoading = false;
        let currentTab = 'profile';

        // 초기 데이터
        const userData = {
            name: '김파트너',
            email: 'partner@example.com',
            phone: '010-1234-5678',
            companyName: '프리미엄 쇼핑몰',
            businessNumber: '123-45-67890',
            mallName: '프리미엄 쇼핑몰',
            mallCategory: '패션/뷰티',
            targetAge: '20-40대 여성'
        };

        // 초기화
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            loadUserData();
            setupFormHandlers();
        });

        // 사용자 데이터 로드
        function loadUserData() {
            document.getElementById('userName').textContent = userData.name;
            document.getElementById('companyNameDisplay').textContent = userData.companyName;
            
            // 폼 필드 채우기
            document.getElementById('name').value = userData.name;
            document.getElementById('email').value = userData.email;
            document.getElementById('phone').value = userData.phone;
            document.getElementById('mallName').value = userData.mallName;
            document.getElementById('companyName').value = userData.companyName;
            document.getElementById('businessNumber').value = userData.businessNumber;
            document.getElementById('mallCategory').value = userData.mallCategory;
            document.getElementById('targetAge').value = userData.targetAge;
        }

        // 탭 전환
        function switchTab(tabName) {
            currentTab = tabName;
            
            // 모든 탭 버튼에서 active 클래스 제거
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // 모든 탭 콘텐츠 숨김
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // 선택된 탭 활성화
            document.getElementById(tabName + 'Tab').classList.add('active');
            document.getElementById(tabName + 'Content').classList.remove('hidden');
            
            // 아이콘 다시 생성
            lucide.createIcons();
        }

        // 비밀번호 표시/숨김 토글
        function togglePassword(fieldId) {
            const field = document.getElementById(fieldId);
            const icon = field.nextElementSibling.querySelector('i');
            
            if (field.type === 'password') {
                field.type = 'text';
                icon.setAttribute('data-lucide', 'eye-off');
            } else {
                field.type = 'password';
                icon.setAttribute('data-lucide', 'eye');
            }
            
            lucide.createIcons();
        }

        // 메시지 표시
        function showMessage(message, isSuccess = true) {
            const messageAlert = document.getElementById('messageAlert');
            const messageText = document.getElementById('messageText');
            
            messageText.textContent = message;
            messageAlert.className = `mb-6 animate-scale-in p-4 rounded-lg ${
                isSuccess ? 'bg-green-50 border border-green-200 text-green-700' : 'bg-red-50 border border-red-200 text-red-700'
            }`;
            messageAlert.classList.remove('hidden');
            
            setTimeout(() => {
                messageAlert.classList.add('hidden');
            }, 3000);
        }

        // 로딩 상태 설정
        function setLoading(formType, loading) {
            isLoading = loading;
            const saveText = document.getElementById(formType + 'SaveText');
            const button = saveText.closest('button');
            
            if (loading) {
                saveText.textContent = '저장 중...';
                button.disabled = true;
                button.querySelector('i').setAttribute('data-lucide', 'loader');
                button.querySelector('i').classList.add('animate-spin');
            } else {
                switch(formType) {
                    case 'profile':
                        saveText.textContent = '프로필 저장';
                        button.querySelector('i').setAttribute('data-lucide', 'save');
                        break;
                    case 'business':
                        saveText.textContent = '사업정보 저장';
                        button.querySelector('i').setAttribute('data-lucide', 'save');
                        break;
                    case 'security':
                        saveText.textContent = '비밀번호 변경';
                        button.querySelector('i').setAttribute('data-lucide', 'lock');
                        break;
                    case 'notifications':
                        saveText.textContent = '알림 설정 저장';
                        button.querySelector('i').setAttribute('data-lucide', 'bell');
                        break;
                }
                button.disabled = false;
                button.querySelector('i').classList.remove('animate-spin');
            }
            
            lucide.createIcons();
        }

        // 폼 핸들러 설정
        function setupFormHandlers() {
            // 프로필 폼
            document.getElementById('profileForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const phone = document.getElementById('phone').value.trim();
                
                if (!name) {
                    showMessage('이름을 입력해주세요.', false);
                    document.getElementById('name').focus();
                    return;
                }
                
                if (!email) {
                    showMessage('이메일을 입력해주세요.', false);
                    document.getElementById('email').focus();
                    return;
                }
                
                if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    showMessage('올바른 이메일 형식을 입력해주세요.', false);
                    document.getElementById('email').focus();
                    return;
                }
                
                if (!phone) {
                    showMessage('휴대폰 번호를 입력해주세요.', false);
                    document.getElementById('phone').focus();
                    return;
                }
                
                setLoading('profile', true);
                setTimeout(() => {
                    setLoading('profile', false);
                    showMessage('프로필이 성공적으로 저장되었습니다.');
                }, 1000);
            });

            // 사업정보 폼
            document.getElementById('businessForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const companyName = document.getElementById('companyName').value.trim();
                const businessNumber = document.getElementById('businessNumber').value.trim();
                
                if (!companyName) {
                    showMessage('회사명을 입력해주세요.', false);
                    document.getElementById('companyName').focus();
                    return;
                }
                
                if (!businessNumber) {
                    showMessage('사업자등록번호를 입력해주세요.', false);
                    document.getElementById('businessNumber').focus();
                    return;
                }
                
                setLoading('business', true);
                setTimeout(() => {
                    setLoading('business', false);
                    showMessage('사업정보가 성공적으로 저장되었습니다.');
                }, 1000);
            });

            // 보안 폼
            document.getElementById('securityForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const currentPassword = document.getElementById('currentPassword').value;
                const newPassword = document.getElementById('newPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                if (!currentPassword) {
                    showMessage('현재 비밀번호를 입력해주세요.', false);
                    document.getElementById('currentPassword').focus();
                    return;
                }
                
                if (!newPassword) {
                    showMessage('새 비밀번호를 입력해주세요.', false);
                    document.getElementById('newPassword').focus();
                    return;
                }
                
                if (newPassword.length < 8) {
                    showMessage('새 비밀번호는 8자 이상이어야 합니다.', false);
                    document.getElementById('newPassword').focus();
                    return;
                }
                
                if (newPassword !== confirmPassword) {
                    showMessage('새 비밀번호와 확인 비밀번호가 일치하지 않습니다.', false);
                    document.getElementById('confirmPassword').focus();
                    return;
                }
                
                setLoading('security', true);
                setTimeout(() => {
                    setLoading('security', false);
                    showMessage('비밀번호가 성공적으로 변경되었습니다.');
                    // 폼 초기화
                    document.getElementById('securityForm').reset();
                }, 1000);
            });
        }

        // 알림 설정 저장
        function saveNotifications() {
            setLoading('notifications', true);
            setTimeout(() => {
                setLoading('notifications', false);
                showMessage('알림 설정이 성공적으로 저장되었습니다.');
            }, 1000);
        }

        // 뒤로가기
        function navigateBack() {
            console.log('Navigate back to partner dashboard');
            // 실제 구현에서는 파트너 대시보드로 이동
        }
    </script>
</body>
</html>