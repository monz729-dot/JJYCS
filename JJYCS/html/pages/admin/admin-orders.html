<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 주문 관리 - YCS 물류관리시스템</title>
    <link rel="stylesheet" href="../../common/common.css">
    <link rel="stylesheet" href="../../common/ui.css">
    <style>
        .admin-container {
            min-height: 100vh;
            background: linear-gradient(135deg, rgb(239 246 255) 0%, rgb(255 255 255) 50%, rgb(239 246 255) 100%);
        }

        .header {
            background: white;
            border-bottom: 1px solid rgb(239 246 255);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 1rem;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .back-button {
            padding: 0.5rem;
            color: rgb(37 99 235);
            background: transparent;
            border: none;
            border-radius: 9999px;
            cursor: pointer;
            opacity: 0.6;
            transition: all 0.2s;
        }

        .back-button:hover {
            color: rgb(29 78 216);
            background: rgb(239 246 255);
            opacity: 1;
        }

        .header-icon {
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, rgb(37 99 235) 0%, rgb(59 130 246) 100%);
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 1px 3px rgba(37, 99, 235, 0.3);
        }

        .header-title {
            font-weight: 600;
            color: rgb(30 64 175);
            margin: 0;
        }

        .header-subtitle {
            font-size: 0.75rem;
            color: rgb(37 99 235);
            margin: 0;
        }

        .status-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
            color: rgb(22 101 52);
            background: rgb(240 253 244);
            border: 1px solid rgb(187 247 208);
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .status-dot {
            width: 0.5rem;
            height: 0.5rem;
            background: rgb(34 197 94);
            border-radius: 9999px;
            animation: pulse 2s infinite;
        }

        .main-content {
            padding: 1rem;
            max-width: 96rem;
            margin: 0 auto;
        }

        .alert {
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            animation: slideIn 0.3s ease-out;
        }

        .alert.success {
            background: rgb(240 253 244);
            border: 1px solid rgb(187 247 208);
            color: rgb(22 101 52);
        }

        .alert.error {
            background: rgb(254 242 242);
            border: 1px solid rgb(252 165 165);
            color: rgb(153 27 27);
        }

        .alert.info {
            background: rgb(239 246 255);
            border: 1px solid rgb(147 197 253);
            color: rgb(29 78 216);
        }

        .tabs-container {
            width: 100%;
        }

        .tabs-list {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            background: rgb(239 246 255);
            border-radius: 0.375rem;
            padding: 0.25rem;
            margin-bottom: 1rem;
        }

        .tab-trigger {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            border-radius: 0.25rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .tab-trigger:hover {
            background: rgb(229 231 235);
        }

        .tab-trigger.active {
            background: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            color: rgb(29 78 216);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid rgb(239 246 255);
            margin-bottom: 1.5rem;
        }

        .card-header {
            padding: 1.5rem 1.5rem 0;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin: 0 0 0.5rem;
            color: rgb(30 64 175);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-description {
            color: rgb(107 114 128);
            font-size: 0.875rem;
            margin: 0;
        }

        .card-content {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 500;
            color: rgb(30 64 175);
            margin-bottom: 0.75rem;
        }

        .form-input {
            width: 100%;
            height: 3rem;
            padding: 0 1rem;
            border: 1px solid rgb(209 213 219);
            border-radius: 0.375rem;
            background: rgb(239 246 255);
            transition: all 0.2s;
        }

        .form-input:focus {
            border-color: rgb(37 99 235);
            outline: none;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-textarea {
            width: 100%;
            height: 5rem;
            padding: 0.75rem 1rem;
            border: 1px solid rgb(209 213 219);
            border-radius: 0.375rem;
            background: rgb(239 246 255);
            resize: none;
            transition: all 0.2s;
        }

        .form-textarea:focus {
            border-color: rgb(37 99 235);
            outline: none;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .radio-group {
            display: flex;
            gap: 1.5rem;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .search-box {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: rgb(37 99 235);
            width: 1rem;
            height: 1rem;
            opacity: 0.6;
        }

        .search-input {
            width: 100%;
            height: 3rem;
            padding-left: 2.5rem;
            padding-right: 1rem;
            border: 1px solid rgb(209 213 219);
            border-radius: 0.375rem;
            background: rgb(239 246 255);
            transition: all 0.2s;
        }

        .search-input:focus {
            border-color: rgb(37 99 235);
            outline: none;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        @media (min-width: 768px) {
            .grid-4 {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .grid-4 {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .inventory-item {
            border: 1px solid rgb(209 213 219);
            border-radius: 0.5rem;
            padding: 1rem;
            background: rgb(239 246 255);
            margin-bottom: 1rem;
            transition: all 0.2s;
        }

        .inventory-item:hover {
            background: rgb(219 234 254);
        }

        .inventory-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .inventory-id {
            font-weight: 500;
            color: rgb(30 64 175);
            cursor: pointer;
            text-decoration: none;
        }

        .inventory-id:hover {
            color: rgb(29 78 216);
            text-decoration: underline;
        }

        .inventory-details {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: rgb(37 99 235);
            margin-bottom: 1rem;
        }

        @media (min-width: 768px) {
            .inventory-details {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .inventory-details {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .badge {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge.pending {
            background: rgb(255 247 237);
            color: rgb(154 52 18);
            border: 1px solid rgb(254 215 170);
        }

        .badge.confirmed {
            background: rgb(240 253 244);
            color: rgb(22 101 52);
            border: 1px solid rgb(187 247 208);
        }

        .badge.rejected {
            background: rgb(254 242 242);
            color: rgb(153 27 27);
            border: 1px solid rgb(252 165 165);
        }

        .badge.outline {
            background: transparent;
            border: 1px solid rgb(209 213 219);
            color: rgb(55 65 81);
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn.primary {
            background: rgb(34 197 94);
            color: white;
        }

        .btn.primary:hover:not(:disabled) {
            background: rgb(22 163 74);
        }

        .btn.outline {
            background: transparent;
            border: 1px solid rgb(209 213 219);
            color: rgb(55 65 81);
        }

        .btn.outline:hover:not(:disabled) {
            background: rgb(249 250 251);
        }

        .btn.outline.danger {
            border-color: rgb(254 165 165);
            color: rgb(153 27 27);
        }

        .btn.outline.danger:hover:not(:disabled) {
            background: rgb(254 242 242);
        }

        .btn.blue {
            background: rgba(37, 99, 235, 0.2);
            border: 1px solid rgba(37, 99, 235, 0.3);
            color: rgb(29, 78, 216);
            transition: all 0.5s;
        }

        .btn.blue:hover:not(:disabled) {
            background: linear-gradient(135deg, rgb(37 99 235) 0%, rgb(59 130 246) 100%);
            border-color: rgb(37 99 235);
            color: white;
            box-shadow: 0 1px 3px rgba(37, 99, 235, 0.3);
        }

        .btn-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .file-upload {
            border: 2px dashed rgb(147 197 253);
            border-radius: 0.5rem;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .file-upload:hover {
            border-color: rgb(37 99 235);
        }

        .selected-products {
            margin-top: 1rem;
        }

        .product-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            background: rgb(239 246 255);
            border: 1px solid rgb(209 213 219);
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .product-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-input {
            width: 5rem;
            height: 2rem;
            text-align: center;
            border: 1px solid rgb(209 213 219);
            border-radius: 0.25rem;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 0.5rem;
            padding: 1.5rem;
            max-width: 42rem;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            margin-bottom: 1rem;
        }

        .modal-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin: 0 0 0.5rem;
        }

        .customer-info-card {
            border: 1px solid rgb(209 213 219);
            border-radius: 0.5rem;
            padding: 1.5rem;
            background: rgb(239 246 255);
            margin-top: 1.5rem;
            animation: slideIn 0.3s ease-out;
        }

        .customer-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .customer-avatar {
            width: 3rem;
            height: 3rem;
            background: linear-gradient(135deg, rgb(37 99 235) 0%, rgb(59 130 246) 100%);
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .customer-name {
            font-weight: 600;
            color: rgb(30 64 175);
            margin: 0;
        }

        .customer-details {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        @media (min-width: 768px) {
            .customer-details {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .order-history {
            margin-top: 1rem;
        }

        .order-history-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            background: white;
            border: 1px solid rgb(229 231 235);
            border-radius: 0.375rem;
            margin-bottom: 0.5rem;
        }

        .loading {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            border: 2px solid currentColor;
            border-top: 2px solid transparent;
            border-radius: 9999px;
            animation: spin 1s linear infinite;
        }

        .icon {
            width: 1rem;
            height: 1rem;
        }

        .icon-lg {
            width: 1.25rem;
            height: 1.25rem;
        }

        .hidden {
            display: none;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <button class="back-button" onclick="navigateBack()" aria-label="관리자 대시보드로 돌아가기">
                        <svg class="icon-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <div class="header-icon">
                        <svg class="icon-lg" fill="none" stroke="white" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="header-title">주문 관리</h1>
                        <p class="header-subtitle">관리자 | 홍길동</p>
                    </div>
                </div>
                <div class="status-badge">
                    <div class="status-dot"></div>
                    온라인
                </div>
            </div>
        </header>

        <div class="main-content">
            <!-- Message Alert -->
            <div id="messageAlert" class="alert hidden">
                <div id="messageText"></div>
            </div>

            <!-- Tabs -->
            <div class="tabs-container">
                <div class="tabs-list">
                    <button class="tab-trigger active" onclick="showTab('inventory')">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                        </svg>
                        <span class="hidden sm:inline">입고 확인</span>
                    </button>
                    <button class="tab-trigger" onclick="showTab('receive')">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
                        </svg>
                        <span class="hidden sm:inline">입고 접수</span>
                    </button>
                    <button class="tab-trigger" onclick="showTab('qr-check')">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"/>
                        </svg>
                        <span class="hidden sm:inline">QR 조회</span>
                    </button>
                </div>

                <!-- 입고 확인 탭 -->
                <div id="inventory-tab" class="tab-content active">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="icon-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                                </svg>
                                입고 확인 관리
                            </h2>
                            <p class="card-description">상품 입고 상태를 확인하고 처리합니다</p>
                        </div>
                        <div class="card-content">
                            <!-- 검색 -->
                            <div class="search-box">
                                <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                                <input type="text" class="search-input" placeholder="주문번호 또는 고객명으로 검색..." id="inventorySearchInput">
                            </div>

                            <!-- 입고 목록 -->
                            <div id="inventoryList">
                                <!-- 입고 항목 1 -->
                                <div class="inventory-item">
                                    <div class="inventory-header">
                                        <div>
                                            <a href="#" class="inventory-id" onclick="navigateToOrderDetail('ORD-2024-001')">ORD-2024-001</a>
                                            <div class="badge confirmed">확인됨</div>
                                        </div>
                                        <div class="badge confirmed">확인됨</div>
                                    </div>
                                    <div class="inventory-details">
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                            </svg>
                                            <span>김철수</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                                            </svg>
                                            <span>노트북 컴퓨터</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                                            </svg>
                                            <span>수량: 2개</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 018 0v4m-4 6v6m-4-6v6m8-6v6"/>
                                            </svg>
                                            <span>입고일: 2024-01-15</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                            </svg>
                                            <span>위치: A-01-15</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- 입고 항목 2 -->
                                <div class="inventory-item">
                                    <div class="inventory-header">
                                        <div>
                                            <a href="#" class="inventory-id" onclick="navigateToOrderDetail('ORD-2024-002')">ORD-2024-002</a>
                                            <div class="badge outline">일반</div>
                                        </div>
                                        <div class="badge confirmed">확인됨</div>
                                    </div>
                                    <div class="inventory-details">
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                            </svg>
                                            <span>이영희</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                                            </svg>
                                            <span>무선 이어폰</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                                            </svg>
                                            <span>수량: 5개</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 018 0v4m-4 6v6m-4-6v6m8-6v6"/>
                                            </svg>
                                            <span>입고일: 2024-01-14</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                            </svg>
                                            <span>위치: B-02-08</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- 입고 항목 3 -->
                                <div class="inventory-item">
                                    <div class="inventory-header">
                                        <div>
                                            <a href="#" class="inventory-id" onclick="navigateToOrderDetail('ORD-2024-003')">ORD-2024-003</a>
                                            <div class="badge outline">일반</div>
                                        </div>
                                        <div class="badge pending">대기중</div>
                                    </div>
                                    <div class="inventory-details">
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                            </svg>
                                            <span>박민수</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                                            </svg>
                                            <span>스마트폰 케이스</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                                            </svg>
                                            <span>수량: 10개</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 018 0v4m-4 6v6m-4-6v6m8-6v6"/>
                                            </svg>
                                            <span>입고일: 2024-01-16</span>
                                        </div>
                                        <div class="detail-item">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                            </svg>
                                            <span>위치: C-03-22</span>
                                        </div>
                                    </div>
                                    <div class="btn-group" style="margin-top: 1rem;">
                                        <button class="btn primary" onclick="handleInventoryStatusChange('INV-003', 'confirmed')">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                            </svg>
                                            확인
                                        </button>
                                        <button class="btn outline danger" onclick="handleInventoryStatusChange('INV-003', 'rejected')">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                            </svg>
                                            거부
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 입고 접수 탭 -->
                <div id="receive-tab" class="tab-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="icon-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                </svg>
                                고객 정보
                            </h2>
                            <p class="card-description">입고를 요청한 고객의 정보를 입력합니다</p>
                        </div>
                        <div class="card-content">
                            <!-- 고객 유형 -->
                            <div class="form-group">
                                <label class="form-label">고객 유형 *</label>
                                <div class="radio-group">
                                    <div class="radio-item">
                                        <input type="radio" id="individual" name="customerType" value="individual" checked>
                                        <label for="individual">개인</label>
                                    </div>
                                    <div class="radio-item">
                                        <input type="radio" id="corporate" name="customerType" value="corporate">
                                        <label for="corporate">기업</label>
                                    </div>
                                </div>
                            </div>

                            <div class="grid-2">
                                <!-- 고객 ID -->
                                <div class="form-group">
                                    <label for="customerId" class="form-label">고객 ID *</label>
                                    <div style="display: flex; gap: 0.5rem;">
                                        <input type="text" id="customerId" class="form-input" placeholder="자동 생성된 ID" value="CUST-123456">
                                        <button type="button" class="btn blue" onclick="handleCustomerSearch()">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>

                                <!-- 이메일 -->
                                <div class="form-group">
                                    <label for="email" class="form-label">이메일 *</label>
                                    <input type="email" id="email" class="form-input" placeholder="이메일 주소" required>
                                </div>

                                <!-- 연락처 -->
                                <div class="form-group">
                                    <label for="phone" class="form-label">연락처 *</label>
                                    <input type="tel" id="phone" class="form-input" placeholder="010-1234-5678" required>
                                </div>
                            </div>

                            <!-- 기업 정보 (기업 선택 시만 표시) -->
                            <div id="corporateFields" style="display: none;">
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label for="companyName" class="form-label">회사명 *</label>
                                        <input type="text" id="companyName" class="form-input" placeholder="회사명">
                                    </div>
                                    <div class="form-group">
                                        <label for="businessNumber" class="form-label">사업자등록번호 *</label>
                                        <input type="text" id="businessNumber" class="form-input" placeholder="123-45-67890">
                                    </div>
                                    <div class="form-group">
                                        <label for="contactName" class="form-label">담당자명 *</label>
                                        <input type="text" id="contactName" class="form-input" placeholder="담당자 이름">
                                    </div>
                                    <div class="form-group">
                                        <label for="contactPhone" class="form-label">담당자 연락처 *</label>
                                        <input type="tel" id="contactPhone" class="form-input" placeholder="010-1234-5678">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 품목 선택 섹션 -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="icon-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                                </svg>
                                품목 선택
                            </h2>
                            <p class="card-description">입고할 상품의 정보를 입력합니다</p>
                        </div>
                        <div class="card-content">
                            <!-- 리패킹 여부 -->
                            <div class="form-group">
                                <label class="form-label">리패킹 여부 *</label>
                                <div class="radio-group">
                                    <div class="radio-item">
                                        <input type="radio" id="noRepacking" name="repacking" value="no" checked>
                                        <label for="noRepacking">아니오</label>
                                    </div>
                                    <div class="radio-item">
                                        <input type="radio" id="yesRepacking" name="repacking" value="yes">
                                        <label for="yesRepacking">예</label>
                                    </div>
                                </div>
                            </div>

                            <!-- 품목 조회 및 선택 -->
                            <div class="form-group">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                                    <label class="form-label" style="margin: 0;">선택된 품목</label>
                                    <button type="button" class="btn blue" onclick="openProductModal()">
                                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                        품목 조회
                                    </button>
                                </div>

                                <!-- 선택된 품목 목록 -->
                                <div id="selectedProducts" class="selected-products hidden">
                                    <div class="product-item">
                                        <div>
                                            <h4 style="margin: 0; font-weight: 500; color: rgb(30 64 175);">노트북 컴퓨터</h4>
                                            <p style="margin: 0; font-size: 0.875rem; color: rgb(37 99 235);">전자제품 | 2.5kg | 0.02㎥</p>
                                        </div>
                                        <div class="product-controls">
                                            <input type="number" class="quantity-input" value="1" min="1">
                                            <button class="btn outline danger" style="padding: 0.25rem;">
                                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="grid-4">
                                <div class="form-group">
                                    <label for="country" class="form-label">국가</label>
                                    <select id="country" class="form-input">
                                        <option value="">국가 선택</option>
                                        <option value="korea">한국</option>
                                        <option value="china">중국</option>
                                        <option value="japan">일본</option>
                                        <option value="vietnam">베트남</option>
                                        <option value="usa">미국</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="postalCode" class="form-label">우편번호</label>
                                    <input type="text" id="postalCode" class="form-input" placeholder="12345">
                                </div>
                                <div class="form-group">
                                    <label for="volume" class="form-label">부피 (㎥)</label>
                                    <input type="number" id="volume" class="form-input" placeholder="0.001" step="0.001">
                                </div>
                                <div class="form-group">
                                    <label for="weight" class="form-label">중량 (kg)</label>
                                    <input type="number" id="weight" class="form-input" placeholder="1.5" step="0.1">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 수취인 정보 섹션 -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="icon-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
                                </svg>
                                수취인 정보
                            </h2>
                            <p class="card-description">배송받을 수취인의 정보를 입력합니다</p>
                        </div>
                        <div class="card-content">
                            <div class="grid-2">
                                <div class="form-group">
                                    <label for="recipientName" class="form-label">수취인 이름 *</label>
                                    <input type="text" id="recipientName" class="form-input" placeholder="수취인 이름" required>
                                </div>
                                <div class="form-group">
                                    <label for="recipientPhone" class="form-label">연락처 *</label>
                                    <input type="tel" id="recipientPhone" class="form-input" placeholder="010-1234-5678" required>
                                </div>
                                <div class="form-group">
                                    <label for="recipientPostalCode" class="form-label">우편번호 *</label>
                                    <input type="text" id="recipientPostalCode" class="form-input" placeholder="12345" required>
                                </div>
                                <div class="form-group">
                                    <label for="deliveryMethod" class="form-label">배송방식</label>
                                    <select id="deliveryMethod" class="form-input">
                                        <option value="">배송방식 선택</option>
                                        <option value="standard">일반배송</option>
                                        <option value="express">특급배송</option>
                                        <option value="overnight">익일배송</option>
                                        <option value="pickup">직접수령</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="recipientAddress" class="form-label">주소 *</label>
                                <input type="text" id="recipientAddress" class="form-input" placeholder="상세 주소를 입력하세요" required>
                            </div>

                            <div class="form-group">
                                <label for="requirements" class="form-label">요청사항</label>
                                <textarea id="requirements" class="form-textarea" placeholder="배송 시 특별 요청사항이 있으면 입력하세요"></textarea>
                            </div>

                            <!-- 내품 정보 확인 촬영 -->
                            <div class="form-group">
                                <label class="form-label">내품 정보 확인 촬영</label>
                                <div class="file-upload" onclick="openFileUpload()">
                                    <svg style="width: 2rem; height: 2rem; color: rgb(37 99 235); margin: 0 auto 0.5rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    <p style="color: rgb(37 99 235); margin: 0;">클릭하여 사진을 업로드하거나</p>
                                    <p style="font-size: 0.875rem; color: rgb(107 114 128); margin: 0.25rem 0;">파일을 드래그하여 놓으세요</p>
                                    <button type="button" class="btn blue" style="margin-top: 0.5rem;">
                                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                                        </svg>
                                        파일 선택
                                    </button>
                                </div>
                                <input type="file" id="fileInput" multiple accept="image/*" style="display: none;" onchange="handleFileUpload(event)">

                                <!-- 업로드된 파일 목록 -->
                                <div id="uploadedFiles" class="hidden" style="margin-top: 1rem;">
                                    <p style="font-size: 0.875rem; color: rgb(29 78 216); margin: 0 0 0.5rem;">업로드된 파일 (0개):</p>
                                    <div id="fileList" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(8rem, 1fr)); gap: 0.5rem;"></div>
                                </div>
                            </div>

                            <!-- 저장/접수 버튼 -->
                            <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                                <button type="button" class="btn outline" onclick="handleSubmit('save')">
                                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"/>
                                    </svg>
                                    임시 저장
                                </button>
                                <button type="button" class="btn blue" onclick="handleSubmit('complete')">
                                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                                    </svg>
                                    입고 접수 완료
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- QR 조회 탭 -->
                <div id="qr-check-tab" class="tab-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="icon-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"/>
                                </svg>
                                QR 코드 고객 조회
                            </h2>
                            <p class="card-description">QR 코드를 스캔하거나 입력하여 고객 정보를 조회합니다</p>
                        </div>
                        <div class="card-content">
                            <!-- QR 입력 -->
                            <div class="form-group">
                                <label for="qrInput" class="form-label">QR 코드 입력</label>
                                <div style="display: flex; gap: 0.75rem;">
                                    <input type="text" id="qrInput" class="form-input" placeholder="QR 코드를 입력하거나 스캔하세요 (예: QR001, QR002)" onkeypress="if(event.key==='Enter') handleQRCheck()">
                                    <button type="button" class="btn blue" onclick="handleQRCheck()" id="qrCheckButton">
                                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                        </svg>
                                    </button>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem; font-size: 0.875rem; color: rgb(37 99 235);">
                                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    <span>데모용 QR 코드: QR001, QR002</span>
                                </div>
                            </div>

                            <!-- 고객 정보 표시 -->
                            <div id="customerInfo" class="customer-info-card hidden">
                                <div class="customer-header">
                                    <div class="customer-avatar">
                                        <svg style="width: 1.5rem; height: 1.5rem;" fill="none" stroke="white" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <h3 class="customer-name" id="customerName">김철수</h3>
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div class="badge" style="background: rgb(238 242 255); color: rgb(109 40 217); border: 1px solid rgb(196 181 253);" id="membershipLevel">VIP</div>
                                            <span style="font-size: 0.875rem; color: rgb(37 99 235);" id="memberSince">가입일: 2023-03-15</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- 기본 정보 -->
                                <div class="customer-details">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem; font-size: 0.875rem;">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                            </svg>
                                            <span id="customerPhone">010-1234-5678</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem; font-size: 0.875rem;">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                            </svg>
                                            <span id="customerEmail">kim@example.com</span>
                                        </div>
                                        <div style="display: flex; align-items: flex-start; gap: 0.5rem; font-size: 0.875rem;">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-top: 0.125rem;">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                            </svg>
                                            <span id="customerAddress">서울시 강남구 테헤란로 123</span>
                                        </div>
                                    </div>
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem; font-size: 0.875rem;">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                                            </svg>
                                            <span id="totalOrders">총 주문: 15건</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem;">
                                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
                                            </svg>
                                            <span id="customerId">고객 ID: CUST-001</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- 주문 이력 -->
                                <div class="order-history">
                                    <h4 style="font-weight: 500; color: rgb(30 64 175); margin: 0 0 0.75rem;">최근 주문 이력</h4>
                                    <div id="orderHistoryList">
                                        <!-- 주문 이력 항목들이 동적으로 추가됩니다 -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 품목 조회 모달 -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">품목 조회</h3>
                <p style="color: rgb(107 114 128); font-size: 0.875rem; margin: 0;">추가할 품목을 선택하세요</p>
            </div>
            
            <div class="search-box">
                <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                </svg>
                <input type="text" id="productSearchInput" class="search-input" placeholder="품목명으로 검색...">
            </div>

            <div id="productList" style="max-height: 15rem; overflow-y: auto; margin-bottom: 1rem;">
                <!-- 품목 목록이 동적으로 추가됩니다 -->
            </div>

            <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                <button class="btn outline" onclick="closeProductModal()">취소</button>
            </div>
        </div>
    </div>

    <script src="../../common/common.js"></script>
    <script>
        let isLoading = false;
        let selectedProducts = [];
        let uploadedFiles = [];

        // 모의 품목 데이터
        const availableProducts = [
            { id: 'PROD-001', name: '노트북 컴퓨터', category: '전자제품', weight: '2.5kg', volume: '0.02㎥', origin: '한국' },
            { id: 'PROD-002', name: '무선 이어폰', category: '전자제품', weight: '0.2kg', volume: '0.001㎥', origin: '중국' },
            { id: 'PROD-003', name: '스마트폰 케이스', category: '액세서리', weight: '0.1kg', volume: '0.0005㎥', origin: '베트남' },
            { id: 'PROD-004', name: '블루투스 스피커', category: '전자제품', weight: '1.2kg', volume: '0.005㎥', origin: '한국' },
            { id: 'PROD-005', name: '캐리어 가방', category: '생활용품', weight: '3.5kg', volume: '0.08㎥', origin: '중국' }
        ];

        // 모의 고객 데이터
        const mockCustomerData = {
            'QR001': {
                id: 'CUST-001',
                name: '김철수',
                phone: '010-1234-5678',
                email: 'kim@example.com',
                address: '서울시 강남구 테헤란로 123',
                orderHistory: [
                    { orderNumber: 'ORD-2024-001', productName: '노트북 컴퓨터', status: '배송완료', date: '2024-01-10' },
                    { orderNumber: 'ORD-2024-015', productName: '무선마우스', status: '처리중', date: '2024-01-14' }
                ],
                memberSince: '2023-03-15',
                totalOrders: 15,
                membershipLevel: 'VIP'
            },
            'QR002': {
                id: 'CUST-002',
                name: '이영희',
                phone: '010-9876-5432',
                email: 'lee@example.com',
                address: '서울시 서초구 강남대로 456',
                orderHistory: [
                    { orderNumber: 'ORD-2024-002', productName: '무선 이어폰', status: '배송중', date: '2024-01-12' }
                ],
                memberSince: '2023-08-20',
                totalOrders: 8,
                membershipLevel: '일반'
            }
        };

        function navigateBack() {
            navigateTo('admin-dashboard');
        }

        function navigateToOrderDetail(orderId) {
            navigateTo('admin-order-detail', { orderId: orderId });
        }

        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Remove active class from all triggers
            const triggers = document.querySelectorAll('.tab-trigger');
            triggers.forEach(trigger => trigger.classList.remove('active'));

            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');

            // Add active class to clicked trigger
            event.target.closest('.tab-trigger').classList.add('active');
        }

        function showMessage(message, type = 'info') {
            const alertElement = document.getElementById('messageAlert');
            const textElement = document.getElementById('messageText');
            
            alertElement.className = `alert ${type}`;
            textElement.textContent = message;
            alertElement.classList.remove('hidden');
            
            setTimeout(() => {
                alertElement.classList.add('hidden');
            }, 5000);
        }

        function handleInventoryStatusChange(itemId, newStatus) {
            if (isLoading) return;
            
            isLoading = true;
            const statusText = newStatus === 'confirmed' ? '확인됨' : '거부됨';
            
            setTimeout(() => {
                showMessage(`입고 상태가 ${statusText}으로 변경되었습니다.`, 'success');
                isLoading = false;
            }, 1000);
        }

        function handleCustomerSearch() {
            if (isLoading) return;
            
            isLoading = true;
            const customerId = document.getElementById('customerId').value;
            
            // 모의 고객 데이터
            const mockCustomers = {
                'CUST-123456': {
                    type: 'corporate',
                    email: 'company@example.com',
                    phone: '02-1234-5678',
                    companyName: '(주)테스트기업',
                    businessNumber: '123-45-67890',
                    contactName: '김담당',
                    contactPhone: '010-1234-5678'
                },
                'CUST-789012': {
                    type: 'individual',
                    email: 'individual@example.com',
                    phone: '010-9876-5432',
                    companyName: '',
                    businessNumber: '',
                    contactName: '이개인',
                    contactPhone: '010-9876-5432'
                }
            };

            setTimeout(() => {
                const customer = mockCustomers[customerId];
                if (customer) {
                    document.getElementById('email').value = customer.email;
                    document.getElementById('phone').value = customer.phone;
                    
                    if (customer.type === 'corporate') {
                        document.getElementById('corporate').checked = true;
                        document.getElementById('corporateFields').style.display = 'block';
                        document.getElementById('companyName').value = customer.companyName;
                        document.getElementById('businessNumber').value = customer.businessNumber;
                        document.getElementById('contactName').value = customer.contactName;
                        document.getElementById('contactPhone').value = customer.contactPhone;
                    }
                    
                    showMessage('고객 정보를 성공적으로 조회했습니다.', 'success');
                } else {
                    showMessage('해당 고객 ID로 등록된 정보를 찾을 수 없습니다.', 'error');
                }
                isLoading = false;
            }, 1000);
        }

        function openProductModal() {
            document.getElementById('productModal').classList.add('active');
            renderProductList();
        }

        function closeProductModal() {
            document.getElementById('productModal').classList.remove('active');
        }

        function renderProductList() {
            const searchQuery = document.getElementById('productSearchInput').value.toLowerCase();
            const filteredProducts = availableProducts.filter(product => 
                product.name.toLowerCase().includes(searchQuery)
            );

            const productList = document.getElementById('productList');
            productList.innerHTML = filteredProducts.map(product => `
                <div style="padding: 0.75rem; border: 1px solid rgb(209 213 219); border-radius: 0.5rem; margin-bottom: 0.5rem; cursor: pointer; transition: all 0.2s; hover:background-color: rgb(239 246 255);" onclick="addProduct('${product.id}')">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <h4 style="margin: 0; font-weight: 500; color: rgb(30 64 175);">${product.name}</h4>
                            <p style="margin: 0; font-size: 0.875rem; color: rgb(37 99 235);">${product.category} | ${product.origin}</p>
                        </div>
                        <div style="text-align: right; font-size: 0.875rem; color: rgb(37 99 235);">
                            <div>${product.weight}</div>
                            <div>${product.volume}</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function addProduct(productId) {
            const product = availableProducts.find(p => p.id === productId);
            if (product && !selectedProducts.find(p => p.id === productId)) {
                selectedProducts.push({ ...product, quantity: 1 });
                showMessage(`${product.name}이(가) 추가되었습니다.`, 'success');
                updateSelectedProductsList();
            }
            closeProductModal();
        }

        function updateSelectedProductsList() {
            const container = document.getElementById('selectedProducts');
            if (selectedProducts.length > 0) {
                container.classList.remove('hidden');
                container.innerHTML = selectedProducts.map((product, index) => `
                    <div class="product-item">
                        <div>
                            <h4 style="margin: 0; font-weight: 500; color: rgb(30 64 175);">${product.name}</h4>
                            <p style="margin: 0; font-size: 0.875rem; color: rgb(37 99 235);">${product.category} | ${product.weight} | ${product.volume}</p>
                        </div>
                        <div class="product-controls">
                            <input type="number" class="quantity-input" value="${product.quantity}" min="1" onchange="updateProductQuantity(${index}, this.value)">
                            <button class="btn outline danger" style="padding: 0.25rem;" onclick="removeProduct(${index})">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                `).join('');
            } else {
                container.classList.add('hidden');
            }
        }

        function updateProductQuantity(index, quantity) {
            selectedProducts[index].quantity = parseInt(quantity) || 1;
        }

        function removeProduct(index) {
            selectedProducts.splice(index, 1);
            updateSelectedProductsList();
        }

        function openFileUpload() {
            document.getElementById('fileInput').click();
        }

        function handleFileUpload(event) {
            const files = Array.from(event.target.files);
            uploadedFiles.push(...files);
            
            const container = document.getElementById('uploadedFiles');
            const fileList = document.getElementById('fileList');
            
            if (uploadedFiles.length > 0) {
                container.classList.remove('hidden');
                container.querySelector('p').textContent = `업로드된 파일 (${uploadedFiles.length}개):`;
                
                fileList.innerHTML = uploadedFiles.map(file => `
                    <div style="padding: 0.5rem; background: rgb(239 246 255); border: 1px solid rgb(209 213 219); border-radius: 0.25rem; font-size: 0.875rem; color: rgb(29 78 216); overflow: hidden; text-overflow: ellipsis;">
                        ${file.name}
                    </div>
                `).join('');
                
                showMessage(`${files.length}개 파일이 업로드되었습니다.`, 'success');
            }
        }

        function handleSubmit(type) {
            if (isLoading) return;
            
            // 유효성 검사
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const recipientName = document.getElementById('recipientName').value;
            const recipientAddress = document.getElementById('recipientAddress').value;

            if (!email || !phone) {
                showMessage('필수 고객 정보를 모두 입력해주세요.', 'error');
                return;
            }

            if (selectedProducts.length === 0) {
                showMessage('최소 1개 이상의 품목을 선택해주세요.', 'error');
                return;
            }

            if (!recipientName || !recipientAddress) {
                showMessage('수취인 정보를 모두 입력해주세요.', 'error');
                return;
            }

            isLoading = true;

            setTimeout(() => {
                if (type === 'save') {
                    showMessage('입고 정보가 임시 저장되었습니다.', 'success');
                } else {
                    showMessage('입고 접수가 완료되었습니다.', 'success');
                    // 폼 초기화
                    document.querySelector('form').reset();
                    selectedProducts = [];
                    uploadedFiles = [];
                    updateSelectedProductsList();
                }
                isLoading = false;
            }, 1500);
        }

        function handleQRCheck() {
            const qrInput = document.getElementById('qrInput').value.trim();
            if (!qrInput) {
                showMessage('QR 코드를 입력해주세요.', 'error');
                return;
            }

            if (isLoading) return;
            isLoading = true;

            const button = document.getElementById('qrCheckButton');
            button.innerHTML = '<div class="loading"></div>';

            setTimeout(() => {
                const customer = mockCustomerData[qrInput];
                if (customer) {
                    displayCustomerInfo(customer);
                    showMessage('고객 정보를 성공적으로 조회했습니다.', 'success');
                } else {
                    showMessage('해당 QR 코드로 등록된 고객 정보를 찾을 수 없습니다.', 'error');
                    document.getElementById('customerInfo').classList.add('hidden');
                }
                
                button.innerHTML = `
                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                `;
                isLoading = false;
            }, 1000);
        }

        function displayCustomerInfo(customer) {
            document.getElementById('customerName').textContent = customer.name;
            document.getElementById('membershipLevel').textContent = customer.membershipLevel;
            document.getElementById('memberSince').textContent = `가입일: ${customer.memberSince}`;
            document.getElementById('customerPhone').textContent = customer.phone;
            document.getElementById('customerEmail').textContent = customer.email;
            document.getElementById('customerAddress').textContent = customer.address;
            document.getElementById('totalOrders').textContent = `총 주문: ${customer.totalOrders}건`;
            document.getElementById('customerId').textContent = `고객 ID: ${customer.id}`;

            // 주문 이력 표시
            const orderHistoryList = document.getElementById('orderHistoryList');
            orderHistoryList.innerHTML = customer.orderHistory.map(order => `
                <div class="order-history-item">
                    <div>
                        <div style="font-weight: 500; color: rgb(30 64 175);">${order.orderNumber}</div>
                        <div style="font-size: 0.875rem; color: rgb(37 99 235);">${order.productName}</div>
                    </div>
                    <div style="text-align: right;">
                        <div class="badge ${order.status === '배송완료' ? 'confirmed' : order.status === '배송중' ? 'pending' : 'pending'}">${order.status}</div>
                        <div style="font-size: 0.75rem; color: rgb(37 99 235); margin-top: 0.25rem;">${order.date}</div>
                    </div>
                </div>
            `).join('');

            document.getElementById('customerInfo').classList.remove('hidden');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Customer type change
            document.querySelectorAll('input[name="customerType"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const corporateFields = document.getElementById('corporateFields');
                    if (this.value === 'corporate') {
                        corporateFields.style.display = 'block';
                    } else {
                        corporateFields.style.display = 'none';
                    }
                });
            });

            // Product search
            document.getElementById('productSearchInput').addEventListener('input', renderProductList);

            // Inventory search
            const inventorySearchInput = document.getElementById('inventorySearchInput');
            if (inventorySearchInput) {
                inventorySearchInput.addEventListener('input', function(e) {
                    console.log('Searching inventory for:', e.target.value);
                    // In a real app, this would filter the inventory items
                });
            }

            // Close modal when clicking outside
            document.getElementById('productModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeProductModal();
                }
            });
        });
    </script>
</body>
</html>