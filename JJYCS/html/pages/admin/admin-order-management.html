<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주문 관리 - YSC 물류관리 시스템</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .shadow-blue { box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.1), 0 2px 4px -1px rgba(59, 130, 246, 0.06); }
        .border-blue-100 { border-color: rgb(219 234 254); }
        .bg-gradient-primary { background: linear-gradient(135deg, #3B82F6 0%, #1E40AF 100%); }
        .text-blue-900 { color: rgb(30 58 138); }
        .text-blue-800 { color: rgb(30 64 175); }
        .text-blue-700 { color: rgb(29 78 216); }
        .text-blue-600 { color: rgb(37 99 235); }
        .hover\:bg-blue-50:hover { background-color: rgb(239 246 255); }
        .bg-blue-50 { background-color: rgb(239 246 255); }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .animate-spin { animation: spin 1s linear infinite; }
        .animate-scale-in { animation: scaleIn 0.3s ease-out; }
        
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            border: 1px solid;
        }
        
        .badge-green { background: rgb(240 253 244); color: rgb(21 128 61); border-color: rgb(187 247 208); }
        .badge-yellow { background: rgb(254 252 232); color: rgb(161 98 7); border-color: rgb(254 240 138); }
        .badge-red { background: rgb(254 242 242); color: rgb(185 28 28); border-color: rgb(254 202 202); }
        .badge-blue { background: rgb(239 246 255); color: rgb(29 78 216); border-color: rgb(191 219 254); }
        .badge-purple { background: rgb(250 245 255); color: rgb(126 34 206); border-color: rgb(221 214 254); }
        .badge-orange { background: rgb(255 247 237); color: rgb(194 65 12); border-color: rgb(254 215 170); }
        .badge-outline { background: transparent; color: rgb(75 85 99); border-color: rgb(209 213 219); }
        
        .alert {
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .alert-success { background: rgb(240 253 244); color: rgb(21 128 61); border-color: rgb(187 247 208); }
        .alert-error { background: rgb(254 242 242); color: rgb(185 28 28); border-color: rgb(254 202 202); }
        .alert-info { background: rgb(239 246 255); color: rgb(29 78 216); border-color: rgb(191 219 254); }
        
        .tab-list {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            background: rgba(239, 246, 255, 0.5);
            border-radius: 0.5rem;
            padding: 0.25rem;
            margin-bottom: 1.5rem;
        }
        
        .tab-trigger {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: rgb(75 85 99);
            background: transparent;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .tab-trigger.active {
            background: white;
            color: rgb(29 78 216);
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 50;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 0.5rem;
            padding: 2rem;
            width: 100%;
            max-width: 42rem;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .upload-area {
            border: 2px dashed rgb(147 197 253);
            border-radius: 0.5rem;
            padding: 1.5rem;
            text-align: center;
            transition: border-color 0.2s;
            cursor: pointer;
        }
        
        .upload-area:hover {
            border-color: rgb(59 130 246);
        }
        
        .upload-area.dragover {
            border-color: rgb(59 130 246);
            background: rgba(59, 130, 246, 0.05);
        }
        
        .radio-group {
            display: flex;
            gap: 1.5rem;
        }
        
        .radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .radio-input {
            width: 1rem;
            height: 1rem;
            border: 2px solid rgb(209 213 219);
            border-radius: 50%;
            appearance: none;
            cursor: pointer;
            position: relative;
        }
        
        .radio-input:checked {
            border-color: rgb(59 130 246);
            background: rgb(59 130 246);
        }
        
        .radio-input:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0.375rem;
            height: 0.375rem;
            background: white;
            border-radius: 50%;
        }
        
        .input, .select, .textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid rgb(219 234 254);
            border-radius: 0.375rem;
            background: rgba(239, 246, 255, 0.3);
            transition: all 0.2s;
        }
        
        .input:focus, .select:focus, .textarea:focus {
            outline: none;
            border-color: rgb(59 130 246);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .h-12 { height: 3rem; }
        .h-20 { height: 5rem; }
        
        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            border: 1px solid;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
        }
        
        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .button-primary {
            background: rgba(59, 130, 246, 0.2);
            color: rgb(29 78 216);
            border-color: rgba(59, 130, 246, 0.5);
        }
        
        .button-primary:hover:not(:disabled) {
            background: linear-gradient(135deg, #3B82F6 0%, #1E40AF 100%);
            color: white;
            border-color: rgb(59 130 246);
        }
        
        .button-outline {
            background: transparent;
            color: rgb(75 85 99);
            border-color: rgb(209 213 219);
        }
        
        .button-outline:hover:not(:disabled) {
            background: rgb(249 250 251);
        }
        
        .button-green {
            background: rgb(34 197 94);
            color: white;
            border-color: rgb(34 197 94);
        }
        
        .button-green:hover:not(:disabled) {
            background: rgb(21 128 61);
        }
        
        .button-red {
            background: transparent;
            color: rgb(220 38 38);
            border-color: rgb(254 202 202);
        }
        
        .button-red:hover:not(:disabled) {
            background: rgb(254 242 242);
        }
        
        .button-sm {
            padding: 0.5rem 0.75rem;
            font-size: 0.75rem;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100">
    <!-- 헤더 -->
    <header class="bg-white border-b border-blue-100 shadow-sm">
        <div class="flex items-center justify-between px-4 py-3">
            <div class="flex items-center gap-3">
                <button id="back-button" class="p-2 text-blue-600/60 hover:text-blue-700 hover:bg-blue-50 rounded-full transition-all opacity-60 hover:opacity-100" aria-label="관리자 대시보드로 돌아가기">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
                <div class="w-10 h-10 bg-gradient-primary rounded-full flex items-center justify-center shadow-blue">
                    <svg class="h-5 w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                    </svg>
                </div>
                <div>
                    <h1 class="font-semibold text-blue-900">주문 관리</h1>
                    <p class="text-xs text-blue-600">관리자 | <span id="user-name">관리자</span></p>
                </div>
            </div>
            <div class="flex items-center gap-2">
                <span class="badge badge-green">
                    <div class="w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"></div>
                    온라인
                </span>
            </div>
        </div>
    </header>

    <div class="p-4 max-w-6xl mx-auto">
        <!-- 메시지 표시 -->
        <div id="message-container" class="hidden"></div>

        <!-- 탭 네비게이션 -->
        <div class="tab-list">
            <button class="tab-trigger active" data-tab="inventory">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                </svg>
                <span class="hidden sm:inline">입고 확인</span>
            </button>
            <button class="tab-trigger" data-tab="receive">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                </svg>
                <span class="hidden sm:inline">입고 접수</span>
            </button>
            <button class="tab-trigger" data-tab="qr-check">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
                </svg>
                <span class="hidden sm:inline">QR 조회</span>
            </button>
        </div>

        <!-- 입고 확인 탭 -->
        <div id="inventory-tab" class="tab-content active">
            <div class="bg-white rounded-lg shadow-blue border border-blue-100 p-6">
                <div class="mb-4">
                    <h2 class="text-lg font-semibold text-blue-900 flex items-center gap-2">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        입고 확인 관리
                    </h2>
                    <p class="text-sm text-blue-600 mt-1">상품 입고 상태를 확인하고 처리합니다</p>
                </div>

                <!-- 검색 -->
                <div class="mb-6">
                    <div class="relative">
                        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-600/60 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        <input type="text" id="search-inventory" placeholder="주문번호 또는 고객명으로 검색..." class="input h-12 pl-10">
                    </div>
                </div>

                <!-- 입고 목록 -->
                <div id="inventory-list" class="space-y-4"></div>
            </div>
        </div>

        <!-- 입고 접수 탭 -->
        <div id="receive-tab" class="tab-content space-y-6">
            <!-- 고객 정보 섹션 -->
            <div class="bg-white rounded-lg shadow-blue border border-blue-100 p-6">
                <div class="mb-4">
                    <h2 class="text-lg font-semibold text-blue-900 flex items-center gap-2">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        고객 정보
                    </h2>
                    <p class="text-sm text-blue-600 mt-1">입고를 요청한 고객의 정보를 입력합니다</p>
                </div>

                <div class="space-y-6">
                    <!-- 고객 유형 -->
                    <div class="space-y-3">
                        <label class="block text-blue-900 font-medium">고객 유형 *</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="customerType" value="individual" id="individual" class="radio-input" checked>
                                <label for="individual" class="cursor-pointer">개인</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="customerType" value="corporate" id="corporate" class="radio-input">
                                <label for="corporate" class="cursor-pointer">기업</label>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- 고객 ID -->
                        <div class="space-y-3">
                            <label for="customer-id" class="block text-blue-900 font-medium">고객 ID *</label>
                            <div class="flex gap-2">
                                <input type="text" id="customer-id" class="input h-12" placeholder="자동 생성된 ID">
                                <button type="button" id="search-customer" class="button button-primary h-12 px-4">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- 이메일 -->
                        <div class="space-y-3">
                            <label for="customer-email" class="block text-blue-900 font-medium">이메일 *</label>
                            <input type="email" id="customer-email" class="input h-12" placeholder="이메일 주소" required>
                        </div>

                        <!-- 연락처 -->
                        <div class="space-y-3">
                            <label for="customer-phone" class="block text-blue-900 font-medium">연락처 *</label>
                            <input type="tel" id="customer-phone" class="input h-12" placeholder="010-1234-5678" required>
                        </div>
                    </div>

                    <!-- 기업 정보 (기업 선택 시만 표시) -->
                    <div id="corporate-fields" class="hidden grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-3">
                            <label for="company-name" class="block text-blue-900 font-medium">회사명 *</label>
                            <input type="text" id="company-name" class="input h-12" placeholder="회사명">
                        </div>

                        <div class="space-y-3">
                            <label for="business-number" class="block text-blue-900 font-medium">사업자등록번호 *</label>
                            <input type="text" id="business-number" class="input h-12" placeholder="123-45-67890">
                        </div>

                        <div class="space-y-3">
                            <label for="contact-name" class="block text-blue-900 font-medium">담당자명 *</label>
                            <input type="text" id="contact-name" class="input h-12" placeholder="담당자 이름">
                        </div>

                        <div class="space-y-3">
                            <label for="contact-phone" class="block text-blue-900 font-medium">담당자 연락처 *</label>
                            <input type="tel" id="contact-phone" class="input h-12" placeholder="010-1234-5678">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 품목 선택 섹션 -->
            <div class="bg-white rounded-lg shadow-blue border border-blue-100 p-6">
                <div class="mb-4">
                    <h2 class="text-lg font-semibold text-blue-900 flex items-center gap-2">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        품목 선택
                    </h2>
                    <p class="text-sm text-blue-600 mt-1">입고할 상품의 정보를 입력합니다</p>
                </div>

                <div class="space-y-6">
                    <!-- 리패킹 여부 -->
                    <div class="space-y-3">
                        <label class="block text-blue-900 font-medium">리패킹 여부 *</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="repacking" value="no" id="no-repacking" class="radio-input" checked>
                                <label for="no-repacking" class="cursor-pointer">아니오</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="repacking" value="yes" id="yes-repacking" class="radio-input">
                                <label for="yes-repacking" class="cursor-pointer">예</label>
                            </div>
                        </div>
                    </div>

                    <!-- 품목 조회 및 선택 -->
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <label class="block text-blue-900 font-medium">선택된 품목</label>
                            <button type="button" id="open-product-modal" class="button button-primary">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                품목 조회
                            </button>
                        </div>

                        <!-- 선택된 품목 목록 -->
                        <div id="selected-products" class="space-y-2"></div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="space-y-3">
                            <label for="product-country" class="block text-blue-900 font-medium">국가</label>
                            <select id="product-country" class="select h-12">
                                <option value="">국가 선택</option>
                                <option value="korea">한국</option>
                                <option value="china">중국</option>
                                <option value="japan">일본</option>
                                <option value="vietnam">베트남</option>
                                <option value="usa">미국</option>
                            </select>
                        </div>

                        <div class="space-y-3">
                            <label for="product-postal-code" class="block text-blue-900 font-medium">우편번호</label>
                            <input type="text" id="product-postal-code" class="input h-12" placeholder="12345">
                        </div>

                        <div class="space-y-3">
                            <label for="product-volume" class="block text-blue-900 font-medium">부피 (㎥)</label>
                            <input type="number" id="product-volume" class="input h-12" placeholder="0.001" step="0.001">
                        </div>

                        <div class="space-y-3">
                            <label for="product-weight" class="block text-blue-900 font-medium">중량 (kg)</label>
                            <input type="number" id="product-weight" class="input h-12" placeholder="1.5" step="0.1">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 수취인 정보 섹션 -->
            <div class="bg-white rounded-lg shadow-blue border border-blue-100 p-6">
                <div class="mb-4">
                    <h2 class="text-lg font-semibold text-blue-900 flex items-center gap-2">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        수취인 정보
                    </h2>
                    <p class="text-sm text-blue-600 mt-1">배송받을 수취인의 정보를 입력합니다</p>
                </div>

                <div class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-3">
                            <label for="recipient-name" class="block text-blue-900 font-medium">수취인 이름 *</label>
                            <input type="text" id="recipient-name" class="input h-12" placeholder="수취인 이름" required>
                        </div>

                        <div class="space-y-3">
                            <label for="recipient-phone" class="block text-blue-900 font-medium">연락처 *</label>
                            <input type="tel" id="recipient-phone" class="input h-12" placeholder="010-1234-5678" required>
                        </div>

                        <div class="space-y-3">
                            <label for="recipient-postal-code" class="block text-blue-900 font-medium">우편번호 *</label>
                            <input type="text" id="recipient-postal-code" class="input h-12" placeholder="12345" required>
                        </div>

                        <div class="space-y-3">
                            <label for="delivery-method" class="block text-blue-900 font-medium">배송방식</label>
                            <select id="delivery-method" class="select h-12">
                                <option value="">배송방식 선택</option>
                                <option value="standard">일반배송</option>
                                <option value="express">특급배송</option>
                                <option value="overnight">익일배송</option>
                                <option value="pickup">직접수령</option>
                            </select>
                        </div>

                        <div class="space-y-3">
                            <label for="courier-company" class="block text-blue-900 font-medium">택배사</label>
                            <select id="courier-company" class="select h-12">
                                <option value="">택배사 선택</option>
                                <option value="cj">CJ대한통운</option>
                                <option value="lotte">롯데택배</option>
                                <option value="hanjin">한진택배</option>
                                <option value="kdexp">경동택배</option>
                                <option value="daesin">대신택배</option>
                            </select>
                        </div>

                        <div class="space-y-3">
                            <label for="tracking-number" class="block text-blue-900 font-medium">송장번호</label>
                            <input type="text" id="tracking-number" class="input h-12" placeholder="송장번호 (배송 후 입력)">
                        </div>

                        <div class="space-y-3">
                            <label for="processor" class="block text-blue-900 font-medium">접수자</label>
                            <input type="text" id="processor" class="input h-12" placeholder="접수 담당자">
                        </div>
                    </div>

                    <div class="space-y-3">
                        <label for="recipient-address" class="block text-blue-900 font-medium">주소 *</label>
                        <input type="text" id="recipient-address" class="input h-12" placeholder="상세 주소를 입력하세요" required>
                    </div>

                    <div class="space-y-3">
                        <label for="requirements" class="block text-blue-900 font-medium">요청사항</label>
                        <textarea id="requirements" class="textarea h-20 resize-none" placeholder="배송 시 특별 요청사항이 있으면 입력하세요"></textarea>
                    </div>

                    <!-- 내품 정보 확인 촬영 -->
                    <div class="space-y-3">
                        <label class="block text-blue-900 font-medium">내품 정보 확인 촬영</label>
                        <div class="upload-area" id="upload-area">
                            <input type="file" id="photo-files" multiple accept="image/*" class="hidden">
                            <div class="space-y-2">
                                <svg class="h-8 w-8 text-blue-500 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                                <p class="text-blue-600">클릭하여 사진을 업로드하거나</p>
                                <p class="text-sm text-blue-500">파일을 드래그하여 놓으세요</p>
                                <button type="button" class="button button-primary mt-2">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                    파일 선택
                                </button>
                            </div>
                        </div>

                        <!-- 업로드된 파일 목록 -->
                        <div id="uploaded-files" class="hidden">
                            <p class="text-sm text-blue-700 mb-2">업로드된 파일:</p>
                            <div id="file-list" class="grid grid-cols-2 md:grid-cols-4 gap-2"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 저장/접수 버튼 -->
            <div class="flex gap-4 justify-end">
                <button type="button" id="save-receive" class="button button-outline">
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
                    </svg>
                    임시 저장
                </button>

                <button type="button" id="complete-receive" class="button button-primary">
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                    입고 접수 완료
                </button>
            </div>
        </div>

        <!-- QR 조회 탭 -->
        <div id="qr-check-tab" class="tab-content">
            <div class="bg-white rounded-lg shadow-blue border border-blue-100 p-6">
                <div class="mb-4">
                    <h2 class="text-lg font-semibold text-blue-900 flex items-center gap-2">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
                        </svg>
                        QR 코드 고객 조회
                    </h2>
                    <p class="text-sm text-blue-600 mt-1">QR 코드를 스캔하거나 입력하여 고객 정보를 조회합니다</p>
                </div>

                <!-- QR 입력 -->
                <div class="space-y-4 mb-6">
                    <label for="qr-input" class="block text-blue-900 font-medium">QR 코드 입력</label>
                    <div class="flex gap-3">
                        <input type="text" id="qr-input" class="input h-12" placeholder="QR 코드를 입력하거나 스캔하세요 (예: QR001, QR002)">
                        <button type="button" id="search-qr" class="button button-primary h-12 px-6">
                            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="flex items-center gap-2 text-sm text-blue-600">
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span>데모용 QR 코드: QR001, QR002</span>
                    </div>
                </div>

                <!-- 고객 정보 표시 -->
                <div id="customer-info" class="hidden"></div>
            </div>
        </div>
    </div>

    <!-- 품목 조회 모달 -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-blue-900">품목 조회</h3>
                <button id="close-product-modal" class="p-2 hover:bg-gray-100 rounded-full">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <p class="text-sm text-blue-600 mb-4">추가할 품목을 선택하세요</p>
            
            <div class="space-y-4">
                <div class="relative">
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-600/60 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    <input type="text" id="product-search" class="input h-12 pl-10" placeholder="품목명으로 검색...">
                </div>
                
                <div id="product-list" class="max-h-60 overflow-y-auto space-y-2"></div>
            </div>
        </div>
    </div>

    <script>
        // 전역 상태 관리
        let currentTab = 'inventory';
        let isLoading = false;
        let selectedProducts = [];
        let uploadedFiles = [];

        // Mock 데이터
        const inventoryItems = [
            { id: 'INV-001', orderNumber: 'ORD-2024-001', customerName: '김철수', productName: '노트북 컴퓨터', quantity: 2, status: 'pending', arrivalDate: '2024-01-15', location: 'A-01-15' },
            { id: 'INV-002', orderNumber: 'ORD-2024-002', customerName: '이영희', productName: '무선 이어폰', quantity: 5, status: 'confirmed', arrivalDate: '2024-01-14', location: 'B-02-08' },
            { id: 'INV-003', orderNumber: 'ORD-2024-003', customerName: '박민수', productName: '스마트폰 케이스', quantity: 10, status: 'pending', arrivalDate: '2024-01-16', location: 'C-03-22' }
        ];

        const availableProducts = [
            { id: 'PROD-001', name: '노트북 컴퓨터', category: '전자제품', weight: '2.5kg', volume: '0.02㎥', origin: '한국' },
            { id: 'PROD-002', name: '무선 이어폰', category: '전자제품', weight: '0.2kg', volume: '0.001㎥', origin: '중국' },
            { id: 'PROD-003', name: '스마트폰 케이스', category: '액세서리', weight: '0.1kg', volume: '0.0005㎥', origin: '베트남' },
            { id: 'PROD-004', name: '블루투스 스피커', category: '전자제품', weight: '1.2kg', volume: '0.005㎥', origin: '한국' },
            { id: 'PROD-005', name: '캐리어 가방', category: '생활용품', weight: '3.5kg', volume: '0.08㎥', origin: '중국' }
        ];

        const mockCustomerData = {
            'QR001': {
                id: 'CUST-001', name: '김철수', phone: '010-1234-5678', email: 'kim@example.com', address: '서울시 강남구 테헤란로 123',
                orderHistory: [
                    { orderNumber: 'ORD-2024-001', productName: '노트북 컴퓨터', status: '배송완료', date: '2024-01-10' },
                    { orderNumber: 'ORD-2024-015', productName: '무선마우스', status: '처리중', date: '2024-01-14' }
                ],
                memberSince: '2023-03-15', totalOrders: 15, membershipLevel: 'VIP'
            },
            'QR002': {
                id: 'CUST-002', name: '이영희', phone: '010-9876-5432', email: 'lee@example.com', address: '서울시 서초구 강남대로 456',
                orderHistory: [
                    { orderNumber: 'ORD-2024-002', productName: '무선 이어폰', status: '배송중', date: '2024-01-12' }
                ],
                memberSince: '2023-08-20', totalOrders: 8, membershipLevel: '일반'
            }
        };

        // 유틸리티 함수
        function showMessage(message, type = 'info') {
            const container = document.getElementById('message-container');
            const alertClass = type === 'success' ? 'alert-success' : type === 'error' ? 'alert-error' : 'alert-info';
            
            container.innerHTML = `
                <div class="alert ${alertClass} animate-scale-in">
                    <div>${message}</div>
                </div>
            `;
            container.classList.remove('hidden');
            
            setTimeout(() => {
                container.classList.add('hidden');
            }, 5000);
        }

        function getStatusBadge(status) {
            const statusMap = {
                'confirmed': { class: 'badge-green', text: '확인됨' },
                'pending': { class: 'badge-yellow', text: '대기중' },
                'rejected': { class: 'badge-red', text: '거부됨' },
                '배송완료': { class: 'badge-blue', text: '배송완료' },
                '배송중': { class: 'badge-purple', text: '배송중' },
                '처리중': { class: 'badge-orange', text: '처리중' }
            };
            
            const badge = statusMap[status] || { class: 'badge-outline', text: status };
            return `<span class="badge ${badge.class}">${badge.text}</span>`;
        }

        function setLoading(loading) {
            isLoading = loading;
            const loadingElements = document.querySelectorAll('.loading-spinner');
            loadingElements.forEach(el => {
                el.style.display = loading ? 'inline-block' : 'none';
            });
        }

        function generateCustomerId() {
            return 'CUST-' + Date.now().toString().slice(-6);
        }

        // 탭 관리
        function switchTab(tabName) {
            if (currentTab === tabName) return;
            
            // 탭 버튼 업데이트
            document.querySelectorAll('.tab-trigger').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.tab === tabName) {
                    btn.classList.add('active');
                }
            });
            
            // 탭 컨텐츠 업데이트
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            currentTab = tabName;
            
            // 탭별 초기화
            if (tabName === 'inventory') {
                renderInventoryList();
            } else if (tabName === 'receive') {
                resetReceiveForm();
            }
        }

        // 입고 확인 관련 함수
        function renderInventoryList() {
            const searchQuery = document.getElementById('search-inventory').value.toLowerCase();
            const filteredItems = inventoryItems.filter(item => 
                searchQuery === '' || 
                item.orderNumber.toLowerCase().includes(searchQuery) ||
                item.customerName.toLowerCase().includes(searchQuery)
            );
            
            const listHtml = filteredItems.map(item => `
                <div class="border border-blue-200 rounded-lg p-4 bg-blue-50/30 hover:bg-blue-50/50 transition-colors">
                    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <button class="font-medium text-blue-900 hover:text-blue-700 hover:underline transition-colors">
                                    ${item.orderNumber}
                                </button>
                                ${getStatusBadge(item.status)}
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm text-blue-600">
                                <div class="flex items-center gap-2">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                    </svg>
                                    <span>${item.customerName}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                    </svg>
                                    <span>${item.productName}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M8 11v6h8v-6M8 11h8"></path>
                                    </svg>
                                    <span>수량: ${item.quantity}개</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <span>입고일: ${item.arrivalDate}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                    <span>위치: ${item.location}</span>
                                </div>
                            </div>
                        </div>
                        ${item.status === 'pending' ? `
                            <div class="flex gap-2">
                                <button class="button button-green button-sm" data-action="confirm" data-id="${item.id}">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    확인
                                </button>
                                <button class="button button-red button-sm" data-action="reject" data-id="${item.id}">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    거부
                                </button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `).join('');
            
            document.getElementById('inventory-list').innerHTML = listHtml || '<p class="text-center text-blue-600 py-8">검색 결과가 없습니다.</p>';
        }

        function handleInventoryAction(itemId, action) {
            setLoading(true);
            
            setTimeout(() => {
                const item = inventoryItems.find(i => i.id === itemId);
                if (item) {
                    item.status = action === 'confirm' ? 'confirmed' : 'rejected';
                    renderInventoryList();
                    showMessage(`입고 상태가 ${action === 'confirm' ? '확인됨' : '거부됨'}으로 변경되었습니다.`, 'success');
                }
                setLoading(false);
            }, 1000);
        }

        // 입고 접수 관련 함수
        function resetReceiveForm() {
            // 고객 ID 자동 생성
            document.getElementById('customer-id').value = generateCustomerId();
            
            // 선택된 품목 및 파일 초기화
            selectedProducts = [];
            uploadedFiles = [];
            renderSelectedProducts();
            updateFileList();
        }

        function handleCustomerTypeChange() {
            const customerType = document.querySelector('input[name="customerType"]:checked').value;
            const corporateFields = document.getElementById('corporate-fields');
            
            if (customerType === 'corporate') {
                corporateFields.classList.remove('hidden');
                corporateFields.classList.add('grid');
            } else {
                corporateFields.classList.add('hidden');
                corporateFields.classList.remove('grid');
            }
        }

        function handleCustomerSearch() {
            const customerId = document.getElementById('customer-id').value;
            if (!customerId.trim()) {
                showMessage('고객 ID를 입력해주세요.', 'error');
                return;
            }
            
            setLoading(true);
            
            // Mock 고객 데이터
            const mockCustomers = {
                'CUST-123456': {
                    type: 'corporate',
                    email: 'company@example.com',
                    phone: '02-1234-5678',
                    companyName: '(주)테스트기업',
                    businessNumber: '123-45-67890',
                    contactName: '김담당',
                    contactPhone: '010-1234-5678'
                },
                'CUST-789012': {
                    type: 'individual',
                    email: 'individual@example.com',
                    phone: '010-9876-5432',
                    companyName: '',
                    businessNumber: '',
                    contactName: '이개인',
                    contactPhone: '010-9876-5432'
                }
            };
            
            setTimeout(() => {
                const customer = mockCustomers[customerId];
                if (customer) {
                    // 고객 유형 업데이트
                    document.getElementById(customer.type).checked = true;
                    handleCustomerTypeChange();
                    
                    // 고객 정보 자동 입력
                    document.getElementById('customer-email').value = customer.email;
                    document.getElementById('customer-phone').value = customer.phone;
                    
                    if (customer.type === 'corporate') {
                        document.getElementById('company-name').value = customer.companyName;
                        document.getElementById('business-number').value = customer.businessNumber;
                        document.getElementById('contact-name').value = customer.contactName;
                        document.getElementById('contact-phone').value = customer.contactPhone;
                    }
                    
                    showMessage('고객 정보를 성공적으로 조회했습니다.', 'success');
                } else {
                    showMessage('해당 고객 ID로 등록된 정보를 찾을 수 없습니다.', 'error');
                }
                setLoading(false);
            }, 1000);
        }

        function renderSelectedProducts() {
            const container = document.getElementById('selected-products');
            
            if (selectedProducts.length === 0) {
                container.innerHTML = '<p class="text-sm text-blue-600">선택된 품목이 없습니다.</p>';
                return;
            }
            
            const html = selectedProducts.map((product, index) => `
                <div class="flex items-center justify-between p-3 bg-blue-50/30 border border-blue-200 rounded-lg">
                    <div class="flex-1">
                        <h4 class="font-medium text-blue-900">${product.name}</h4>
                        <p class="text-sm text-blue-600">${product.category} | ${product.weight} | ${product.volume}</p>
                    </div>
                    <div class="flex items-center gap-2">
                        <input type="number" value="${product.quantity || 1}" 
                               class="w-20 h-8 text-center input"
                               min="1" data-index="${index}">
                        <button class="button button-red button-sm" data-action="remove-product" data-id="${product.id}">
                            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = html;
        }

        function renderProductList() {
            const searchQuery = document.getElementById('product-search').value.toLowerCase();
            const filteredProducts = availableProducts.filter(product => 
                searchQuery === '' || 
                product.name.toLowerCase().includes(searchQuery)
            );
            
            const html = filteredProducts.map(product => `
                <div class="p-3 border border-blue-200 rounded-lg hover:bg-blue-50/50 cursor-pointer transition-colors" data-product-id="${product.id}">
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="font-medium text-blue-900">${product.name}</h4>
                            <p class="text-sm text-blue-600">${product.category} | ${product.origin}</p>
                        </div>
                        <div class="text-right text-sm text-blue-600">
                            <div>${product.weight}</div>
                            <div>${product.volume}</div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('product-list').innerHTML = html || '<p class="text-center text-blue-600 py-4">검색 결과가 없습니다.</p>';
        }

        function addProduct(productId) {
            const product = availableProducts.find(p => p.id === productId);
            if (product && !selectedProducts.find(p => p.id === productId)) {
                selectedProducts.push({ ...product, quantity: 1 });
                renderSelectedProducts();
                showMessage(`${product.name}이(가) 추가되었습니다.`, 'success');
                closeProductModal();
            }
        }

        function removeProduct(productId) {
            selectedProducts = selectedProducts.filter(p => p.id !== productId);
            renderSelectedProducts();
        }

        function openProductModal() {
            document.getElementById('product-modal').classList.add('active');
            renderProductList();
        }

        function closeProductModal() {
            document.getElementById('product-modal').classList.remove('active');
            document.getElementById('product-search').value = '';
        }

        function handleFileUpload(files) {
            uploadedFiles = [...uploadedFiles, ...Array.from(files)];
            updateFileList();
            showMessage(`${files.length}개 파일이 업로드되었습니다.`, 'success');
        }

        function updateFileList() {
            const container = document.getElementById('uploaded-files');
            const fileList = document.getElementById('file-list');
            
            if (uploadedFiles.length === 0) {
                container.classList.add('hidden');
                return;
            }
            
            container.classList.remove('hidden');
            container.querySelector('p').textContent = `업로드된 파일 (${uploadedFiles.length}개):`;
            
            const html = uploadedFiles.map((file, index) => `
                <div class="p-2 bg-blue-50 border border-blue-200 rounded text-sm text-blue-700 truncate">
                    ${file.name}
                </div>
            `).join('');
            
            fileList.innerHTML = html;
        }

        function validateReceiveForm() {
            const email = document.getElementById('customer-email').value;
            const phone = document.getElementById('customer-phone').value;
            const recipientName = document.getElementById('recipient-name').value;
            const recipientAddress = document.getElementById('recipient-address').value;
            
            if (!email || !phone) {
                showMessage('필수 고객 정보를 모두 입력해주세요.', 'error');
                return false;
            }
            
            if (selectedProducts.length === 0) {
                showMessage('최소 1개 이상의 품목을 선택해주세요.', 'error');
                return false;
            }
            
            if (!recipientName || !recipientAddress) {
                showMessage('수취인 정보를 모두 입력해주세요.', 'error');
                return false;
            }
            
            return true;
        }

        function handleSubmit(type) {
            if (type === 'complete' && !validateReceiveForm()) {
                return;
            }
            
            setLoading(true);
            
            setTimeout(() => {
                if (type === 'save') {
                    showMessage('입고 정보가 임시 저장되었습니다.', 'success');
                } else {
                    showMessage('입고 접수가 완료되었습니다.', 'success');
                    resetReceiveForm();
                }
                setLoading(false);
            }, 1500);
        }

        // QR 조회 관련 함수
        function handleQRCheck() {
            const qrInput = document.getElementById('qr-input').value;
            if (!qrInput.trim()) {
                showMessage('QR 코드를 입력해주세요.', 'error');
                return;
            }
            
            setLoading(true);
            
            setTimeout(() => {
                const customer = mockCustomerData[qrInput];
                if (customer) {
                    renderCustomerInfo(customer);
                    showMessage('고객 정보를 성공적으로 조회했습니다.', 'success');
                } else {
                    document.getElementById('customer-info').classList.add('hidden');
                    showMessage('해당 QR 코드로 등록된 고객 정보를 찾을 수 없습니다.', 'error');
                }
                setLoading(false);
            }, 1000);
        }

        function renderCustomerInfo(customer) {
            const html = `
                <div class="border border-blue-200 rounded-lg p-6 bg-blue-50/30 animate-scale-in">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center">
                            <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </div>
                        <div>
                            <h3 class="font-semibold text-blue-900">${customer.name}</h3>
                            <div class="flex items-center gap-2">
                                <span class="badge badge-purple">${customer.membershipLevel}</span>
                                <span class="text-sm text-blue-600">가입일: ${customer.memberSince}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 기본 정보 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="space-y-3">
                            <div class="flex items-center gap-2 text-sm">
                                <svg class="h-4 w-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                </svg>
                                <span class="text-blue-700">${customer.phone}</span>
                            </div>
                            <div class="flex items-center gap-2 text-sm">
                                <svg class="h-4 w-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                                <span class="text-blue-700">${customer.email}</span>
                            </div>
                            <div class="flex items-start gap-2 text-sm">
                                <svg class="h-4 w-4 text-blue-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                                <span class="text-blue-700">${customer.address}</span>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="flex items-center gap-2 text-sm">
                                <svg class="h-4 w-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M8 11v6h8v-6M8 11h8"></path>
                                </svg>
                                <span class="text-blue-700">총 주문: ${customer.totalOrders}건</span>
                            </div>
                            <div class="flex items-center gap-2 text-sm">
                                <svg class="h-4 w-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span class="text-blue-700">고객 ID: ${customer.id}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 주문 이력 -->
                    <div>
                        <h4 class="font-medium text-blue-900 mb-3">최근 주문 이력</h4>
                        <div class="space-y-2">
                            ${customer.orderHistory.map(order => `
                                <div class="flex items-center justify-between p-3 bg-white rounded-md border border-blue-100">
                                    <div>
                                        <div class="font-medium text-blue-900">${order.orderNumber}</div>
                                        <div class="text-sm text-blue-600">${order.productName}</div>
                                    </div>
                                    <div class="text-right">
                                        ${getStatusBadge(order.status)}
                                        <div class="text-xs text-blue-600 mt-1">${order.date}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('customer-info').innerHTML = html;
            document.getElementById('customer-info').classList.remove('hidden');
        }

        // 이벤트 리스너 설정
        function setupEventListeners() {
            // 탭 전환
            document.querySelectorAll('.tab-trigger').forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });

            // 뒤로가기 버튼
            document.getElementById('back-button').addEventListener('click', () => {
                window.location.href = 'admin-dashboard.html';
            });

            // 입고 확인 관련
            document.getElementById('search-inventory').addEventListener('input', renderInventoryList);
            document.getElementById('inventory-list').addEventListener('click', (e) => {
                if (e.target.closest('[data-action]')) {
                    const button = e.target.closest('[data-action]');
                    const action = button.dataset.action;
                    const itemId = button.dataset.id;
                    handleInventoryAction(itemId, action);
                }
            });

            // 입고 접수 관련
            document.querySelectorAll('input[name="customerType"]').forEach(input => {
                input.addEventListener('change', handleCustomerTypeChange);
            });
            
            document.getElementById('search-customer').addEventListener('click', handleCustomerSearch);
            
            document.getElementById('open-product-modal').addEventListener('click', openProductModal);
            document.getElementById('close-product-modal').addEventListener('click', closeProductModal);
            
            document.getElementById('product-search').addEventListener('input', renderProductList);
            document.getElementById('product-list').addEventListener('click', (e) => {
                const productElement = e.target.closest('[data-product-id]');
                if (productElement) {
                    addProduct(productElement.dataset.productId);
                }
            });
            
            document.getElementById('selected-products').addEventListener('click', (e) => {
                if (e.target.closest('[data-action="remove-product"]')) {
                    const button = e.target.closest('[data-action="remove-product"]');
                    removeProduct(button.dataset.id);
                }
            });
            
            document.getElementById('selected-products').addEventListener('input', (e) => {
                if (e.target.type === 'number') {
                    const index = parseInt(e.target.dataset.index);
                    if (selectedProducts[index]) {
                        selectedProducts[index].quantity = parseInt(e.target.value) || 1;
                    }
                }
            });

            // 파일 업로드 관련
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('photo-files');
            
            uploadArea.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', (e) => handleFileUpload(e.target.files));
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                handleFileUpload(e.dataTransfer.files);
            });

            // 저장/접수 버튼
            document.getElementById('save-receive').addEventListener('click', () => handleSubmit('save'));
            document.getElementById('complete-receive').addEventListener('click', () => handleSubmit('complete'));

            // QR 조회 관련
            document.getElementById('qr-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleQRCheck();
            });
            document.getElementById('search-qr').addEventListener('click', handleQRCheck);

            // 모달 외부 클릭 시 닫기
            document.getElementById('product-modal').addEventListener('click', (e) => {
                if (e.target.id === 'product-modal') {
                    closeProductModal();
                }
            });
        }

        // 페이지 초기화
        function initializePage() {
            setupEventListeners();
            renderInventoryList();
            resetReceiveForm();
            
            // 고객 ID 자동 생성
            document.getElementById('customer-id').value = generateCustomerId();
        }

        // 페이지 로드 완료 시 초기화
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>