<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Partner Navigation - YSC 물류 시스템</title>
    <link rel="stylesheet" href="../../css/globals.css">
    <style>
        
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .button {
            padding: 10px 20px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .button-primary {
            background: rgb(59 130 246);
            color: white;
        }
        
        .button-primary:hover {
            background: rgb(37 99 235);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }
        
        .grid {
            display: grid;
            gap: 20px;
        }
        
        .grid-cols-2 {
            grid-template-columns: repeat(2, 1fr);
        }
        
        @media (max-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: 1fr;
            }
        }
        
    </style>
</head>
<body>
    <div id="root">
        
    <>
      {/* 상단 헤더 */}
      <header class="bg-white border-b border-blue-100 shadow-sm sticky top-0 z-40">
        <div class="flex items-center justify-between px-4 py-3">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg">
              <span class="text-white font-bold">YSC</span>
            </div>
            <div>
              <h1 class="font-semibold text-blue-900">YSC 파트너 시스템</h1>
              <p class="text-xs text-blue-600">
                {currentPage === 'partner-dashboard' && '파트너 대시보드'}
                {currentPage === 'partner-tasks' && '파트너 업무'}
                {currentPage === 'partner-orders' && '주문 관리'}
                {currentPage === 'partner-history' && '업무 이력'}
                {currentPage === 'partner-settlement' && '정산 관리'}
                {currentPage === 'mypage' && '파트너 설정'}
                {currentPage === 'page-list' && '전체 페이지 목록'}
              </p>
            </div>
          </div>
          <div class="flex gap-2">
            <button 
              onclick="() => onNavigate('page-list')()"
              class="text-sm text-purple-600 hover:text-purple-700 hover:bg-purple-50 px-3 py-1 rounded-full transition-colors"
            >
              페이지목록
            </button>
            <button 
              onclick="onLogout()"
              class="text-sm text-red-600 hover:text-red-700 hover:bg-red-50 px-3 py-1 rounded-full transition-colors"
            >
              <LogOut class="h-4 w-4" ></LogOut class="h-4 w-4" >
            </button>
          </div>
        </div>
      </header>

      {/* 하단 네비게이션 */}
      <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-blue-100 shadow-lg z-50">
        <div class="grid grid-cols-5 h-16">
          <div class="list-container" data-source="navigationItems"></div>
        </div>
      </nav>
    </>
  
    </div>
    
    <script src="../../js/utils.js"></script>
    <script>
        // 컴포넌트 초기화
        let state = {};
        let props = {};
        
        // 부모 창으로부터 데이터 수신
        window.addEventListener('message', (event) => {
            if (event.data.type === 'APP_STATE') {
                props.user = event.data.user;
                props.orderId = event.data.orderId;
                props.userType = event.data.userType;
                initComponent();
            }
        });
        
        // 페이지 네비게이션
        function navigateTo(page, options = {}) {
            window.parent.postMessage({
                type: 'NAVIGATE',
                page: page,
                options: options
            }, '*');
        }
        
        // 로그인 처리
        function handleLogin(user) {
            window.parent.postMessage({
                type: 'LOGIN',
                user: user
            }, '*');
        }
        
        // 로그아웃 처리
        function handleLogout() {
            window.parent.postMessage({
                type: 'LOGOUT'
            }, '*');
        }
        
        // 컴포넌트 초기화 함수
        function initComponent() {
            
        // 데이터 바인딩
        function updateUI() {
            // State 값을 DOM에 반영
            for (let key in state) {
                const elements = document.querySelectorAll(`[id="data-${key}"]`);
                elements.forEach(el => {
                    if (typeof state[key] === 'object') {
                        el.textContent = JSON.stringify(state[key]);
                    } else {
                        el.textContent = state[key];
                    }
                });
            }
            
            // Props 값을 DOM에 반영
            for (let key in props) {
                const elements = document.querySelectorAll(`[id="prop-${key}"]`);
                elements.forEach(el => {
                    if (typeof props[key] === 'object' && props[key] !== null) {
                        if (props[key].name) {
                            el.textContent = props[key].name;
                        } else {
                            el.textContent = JSON.stringify(props[key]);
                        }
                    } else {
                        el.textContent = props[key];
                    }
                });
            }
        }
        
        // State 업데이트 함수
        function setState(updates) {
            state = { ...state, ...updates };
            updateUI();
        }
        
        // 초기 UI 업데이트
        updateUI();
        
        }
        
        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', () => {
            initComponent();
        });
        
        
    </script>
</body>
</html>