<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YSC ë¬¼ë¥˜ ì‹œìŠ¤í…œ - ê°œì¸ ê³ ê° ëŒ€ì‹œë³´ë“œ</title>
    <link rel="stylesheet" href="css/globals.css">
    <style>
        .page-container {
            background: var(--gray-50);
            min-height: 100vh;
            padding-bottom: 5rem;
        }
        
        .header {
            background: white;
            border-bottom: 1px solid var(--primary-100);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 40;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .logo {
            width: 2.5rem;
            height: 2.5rem;
            background: var(--primary-500);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1rem;
        }
        
        .header-info h1 {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--primary-800);
            margin: 0;
        }
        
        .header-subtitle {
            font-size: 0.8rem;
            color: var(--gray-600);
            margin: 0;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .user-info {
            text-align: right;
        }
        
        .user-name {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--primary-800);
        }
        
        .user-type {
            font-size: 0.75rem;
            color: #6b7280;
        }
        
        .logout-btn {
            background: none;
            border: 1px solid var(--primary-200);
            color: var(--primary-600);
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .logout-btn:hover {
            background: var(--primary-50);
            border-color: var(--primary-300);
        }
        
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem 1rem;
        }
        
        .welcome-section {
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            color: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .welcome-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .welcome-content {
            position: relative;
            z-index: 1;
        }
        
        .welcome-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .welcome-subtitle {
            opacity: 0.9;
            font-size: 1rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: white;
            border: 1px solid var(--primary-100);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-600);
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .section {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--primary-100);
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--primary-800);
        }
        
        .section-action {
            font-size: 0.875rem;
            color: var(--primary-600);
            text-decoration: none;
        }
        
        .section-action:hover {
            text-decoration: underline;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .action-card {
            background: white;
            border: 1px solid var(--primary-100);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .action-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-300);
        }
        
        .action-icon {
            width: 3rem;
            height: 3rem;
            background: var(--primary-100);
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem auto;
            color: var(--primary-600);
        }
        
        .action-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary-800);
            margin-bottom: 0.5rem;
        }
        
        .action-desc {
            font-size: 0.875rem;
            color: #6b7280;
            line-height: 1.4;
        }
        
        .order-list {
            space-y: 1rem;
        }
        
        .order-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
            margin-bottom: 0.75rem;
            transition: all 0.2s ease;
        }
        
        .order-item:hover {
            background: var(--primary-50);
            border-color: var(--primary-200);
        }
        
        .order-info {
            flex: 1;
        }
        
        .order-number {
            font-weight: 600;
            color: var(--primary-800);
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }
        
        .order-desc {
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        .order-meta {
            text-align: right;
            margin-left: 1rem;
        }
        
        .order-date {
            font-size: 0.75rem;
            color: #9ca3af;
            margin-bottom: 0.25rem;
        }
        
        .order-status {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.7rem;
            font-weight: 500;
        }
        
        .status-pending {
            background: var(--warning-100);
            color: var(--warning-700);
        }
        
        .status-processing {
            background: var(--primary-100);
            color: var(--primary-700);
        }
        
        .status-shipping {
            background: #f0f9ff;
            color: #0369a1;
        }
        
        .status-delivered {
            background: var(--success-100);
            color: var(--success-700);
        }
        
        .status-billing {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-payment-pending {
            background: #fef2f2;
            color: #991b1b;
        }
        
        .status-payment-confirmed {
            background: #ecfdf5;
            color: #065f46;
        }
        
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #9ca3af;
        }
        
        .empty-icon {
            width: 4rem;
            height: 4rem;
            background: #f3f4f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem auto;
            font-size: 1.5rem;
        }
        
        .empty-title {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }
        
        .empty-desc {
            font-size: 0.875rem;
        }
        
        @media (max-width: 768px) {
            .header-content {
                padding: 0 0.5rem;
            }
            
            .header-info h1 {
                font-size: 1rem;
            }
            
            .header-subtitle {
                font-size: 0.75rem;
            }
            
            .main-content {
                padding: 1rem 0.75rem;
            }
            
            .welcome-section {
                padding: 1.5rem;
            }
            
            .welcome-title {
                font-size: 1.25rem;
            }
            
            .welcome-subtitle {
                font-size: 0.875rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }
            
            .stat-card {
                padding: 1rem;
            }
            
            .stat-value {
                font-size: 1.25rem;
            }
            
            .stat-label {
                font-size: 0.8rem;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            
            .action-card {
                padding: 1.25rem;
            }
            
            .section {
                padding: 1.25rem;
            }
            
            .order-item {
                flex-direction: column;
                align-items: stretch;
                gap: 0.75rem;
            }
            
            .order-meta {
                text-align: left;
                margin-left: 0;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
        }
    </style>
</head>
<body class="theme-general">
    <div class="page-container">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo">YSC</div>
                    <div class="header-info">
                        <h1>YSC ë¬¼ë¥˜ ì‹œìŠ¤í…œ</h1>
                        <p class="header-subtitle">ê°œì¸ ê³ ê° ëŒ€ì‹œë³´ë“œ</p>
                    </div>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <div class="user-name" id="userName">ê¹€ê°œì¸</div>
                        <div class="user-type">ê°œì¸ ê³ ê°</div>
                    </div>
                    <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
        </header>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="main-content">
            <!-- í™˜ì˜ ì„¹ì…˜ -->
            <div class="welcome-section">
                <div class="welcome-content">
                    <h1 class="welcome-title">ì•ˆë…•í•˜ì„¸ìš”, <span id="welcomeName">ê¹€ê°œì¸</span>ë‹˜!</h1>
                    <p class="welcome-subtitle">ì˜¤ëŠ˜ë„ YSCì™€ í•¨ê»˜ ì•ˆì „í•˜ê³  ë¹ ë¥¸ ë°°ì†¡ì„ ì‹œì‘í•˜ì„¸ìš”.</p>
                </div>
            </div>

            <!-- í†µê³„ ì¹´ë“œ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalOrders">3</div>
                    <div class="stat-label">ì´ ì£¼ë¬¸</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="pendingOrders">1</div>
                    <div class="stat-label">ì§„í–‰ì¤‘ì¸ ì£¼ë¬¸</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="completedOrders">2</div>
                    <div class="stat-label">ì™„ë£Œëœ ë°°ì†¡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">â‚©85,000</div>
                    <div class="stat-label">ì´ë²ˆ ë‹¬ ë°°ì†¡ë¹„</div>
                </div>
            </div>

            <!-- ë¹ ë¥¸ ì‘ì—… -->
            <div class="quick-actions">
                <a href="order-form-general.html" class="action-card">
                    <div class="action-icon">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                    </div>
                    <div class="action-title">ìƒˆ ì£¼ë¬¸ ì ‘ìˆ˜</div>
                    <div class="action-desc">ê°œì¸ ë°°ì†¡ ì£¼ë¬¸ì„ ë¹ ë¥´ê²Œ ì ‘ìˆ˜í•˜ì„¸ìš”</div>
                </a>
                
                <a href="order-tracking.html" class="action-card">
                    <div class="action-icon">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                        </svg>
                    </div>
                    <div class="action-title">ë°°ì†¡ ì¶”ì </div>
                    <div class="action-desc">ì‹¤ì‹œê°„ìœ¼ë¡œ ë°°ì†¡ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”</div>
                </a>
                
                <a href="order-history-general.html" class="action-card">
                    <div class="action-icon">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <div class="action-title">ì£¼ë¬¸ ë‚´ì—­</div>
                    <div class="action-desc">ê³¼ê±° ì£¼ë¬¸ ë‚´ì—­ê³¼ ë°°ì†¡ ê¸°ë¡ì„ í™•ì¸í•˜ì„¸ìš”</div>
                </a>
            </div>

            <!-- ìµœê·¼ ì£¼ë¬¸ -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">ìµœê·¼ ì£¼ë¬¸</h2>
                    <a href="order-history-general.html" class="section-action">ì „ì²´ë³´ê¸°</a>
                </div>
                
                <div class="order-list" id="recentOrders">
                    <div class="order-item">
                        <div class="order-info">
                            <div class="order-number">#YSC240822001</div>
                            <div class="order-desc">ì „ìì œí’ˆ â€¢ íƒœêµ­ â†’ í•œêµ­</div>
                        </div>
                        <div class="order-meta">
                            <div class="order-date">2024.08.22</div>
                            <span class="order-status status-billing">ì²­êµ¬ì„œë°œí–‰</span>
                        </div>
                    </div>
                    
                    <div class="order-item">
                        <div class="order-info">
                            <div class="order-number">#YSC240821002</div>
                            <div class="order-desc">ì˜ë¥˜ 3ê°œ â€¢ íƒœêµ­ â†’ í•œêµ­</div>
                        </div>
                        <div class="order-meta">
                            <div class="order-date">2024.08.21</div>
                            <span class="order-status status-delivered">ë°°ì†¡ì™„ë£Œ</span>
                        </div>
                    </div>
                    
                    <div class="order-item">
                        <div class="order-info">
                            <div class="order-number">#YSC240820003</div>
                            <div class="order-desc">í™”ì¥í’ˆ 5ê°œ â€¢ íƒœêµ­ â†’ í•œêµ­</div>
                        </div>
                        <div class="order-meta">
                            <div class="order-date">2024.08.20</div>
                            <span class="order-status status-delivered">ë°°ì†¡ì™„ë£Œ</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ì°½ê³  ë³´ê´€ í˜„í™© -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg style="width: 1.25rem; height: 1.25rem; display: inline; margin-right: 0.5rem;" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                        </svg>
                        ì°½ê³  ë³´ê´€ í˜„í™©
                    </h2>
                </div>
                
                <div class="warehouse-items" id="warehouseItems">
                    <div class="order-item" style="border-left: 4px solid var(--primary-500);">
                        <div class="order-info">
                            <div class="order-number">#YSC240115001</div>
                            <div class="order-desc">ë¹¼ë¹¼ë¡œ, ì´ˆì½œë¦¿ ê³¼ì â€¢ 2.5kg</div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.25rem;">
                                <span style="display: inline-flex; align-items: center; padding: 0.125rem 0.5rem; background: var(--primary-100); color: var(--primary-700); border-radius: 9999px; font-size: 0.75rem; font-weight: 500; font-family: 'Monaco', 'Menlo', monospace;">
                                    A-01-03
                                </span>
                                <span style="font-size: 0.75rem; color: #6b7280;">
                                    Aì—´ 1í–‰ 3ë²ˆ
                                </span>
                            </div>
                        </div>
                        <div class="order-meta">
                            <div class="order-date">ì…ê³ ì¼: 2024.01.18</div>
                            <span class="order-status" style="background: #fef3c7; color: #92400e; border-color: #fbbf24;">ë¦¬íŒ¨í‚¹ì™„ë£Œ</span>
                        </div>
                    </div>
                    
                    <div class="order-item" style="border-left: 4px solid #10b981;">
                        <div class="order-info">
                            <div class="order-number">#YSC240120005</div>
                            <div class="order-desc">í•œêµ­ ì „í†µì°¨ ì„¸íŠ¸ â€¢ 1.8kg</div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.25rem;">
                                <span style="display: inline-flex; align-items: center; padding: 0.125rem 0.5rem; background: #d1fae5; color: #065f46; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; font-family: 'Monaco', 'Menlo', monospace;">
                                    B-02-15
                                </span>
                                <span style="font-size: 0.75rem; color: #6b7280;">
                                    Bì—´ 2í–‰ 15ë²ˆ
                                </span>
                            </div>
                        </div>
                        <div class="order-meta">
                            <div class="order-date">ì…ê³ ì¼: 2024.01.20</div>
                            <span class="order-status" style="background: #dcfce7; color: #166534; border-color: #bbf7d0;">ë³´ê´€ì¤‘</span>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 1rem;">
                    <p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 0.5rem;">
                        ğŸ’¡ ì°½ê³  ìœ„ì¹˜ëŠ” ê´€ë¦¬ìê°€ ë¬¼í’ˆ ì…ê³  ì‹œ í• ë‹¹í•´ë“œë¦½ë‹ˆë‹¤
                    </p>
                    <button class="btn-outline" style="padding: 0.5rem 1rem; font-size: 0.875rem;" onclick="window.location.href='order-history-general.html'">
                        ì „ì²´ ë³´ê´€ í˜„í™© ë³´ê¸°
                    </button>
                </div>
            </div>
        </main>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="mobile-nav">
            <div class="nav-grid">
                <button class="nav-item active" onclick="navigate('dashboard')">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                </button>
                <button class="nav-item" onclick="navigate('order-form')">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                    </svg>
                </button>
                <button class="nav-item" onclick="navigate('order-history')">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                </button>
                <button class="nav-item" onclick="navigate('mypage')">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                </button>
                <button class="nav-item" onclick="navigate('page-list')">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>
    </div>

    <script src="js/api.js"></script>
    <script>
        // í˜„ì¬ ì‚¬ìš©ì ì •ë³´
        let currentUser = null;

        // ì¸ì¦ í™•ì¸
        function checkAuth() {
            currentUser = ycsAPI.getCurrentUser();
            
            if (!currentUser) {
                window.location.href = 'auth-login.html';
                return false;
            }
            
            // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('welcomeName').textContent = currentUser.name;
            
            return true;
        }

        // ë„¤ë¹„ê²Œì´ì…˜
        function navigate(page) {
            const routes = {
                'dashboard': 'dashboard-general.html',
                'order-form': 'order-form-general.html',
                'order-history': 'order-history-general.html',
                'mypage': 'mypage-general.html',
                'page-list': 'index.html'
            };
            
            if (routes[page]) {
                window.location.href = routes[page];
            }
        }

        // ë¡œê·¸ì•„ì›ƒ
        async function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                await ycsAPI.logout();
                window.location.href = 'auth-login.html';
            }
        }

        // ì£¼ë¬¸ í†µê³„ ì—…ë°ì´íŠ¸
        async function updateOrderStats() {
            try {
                const userOrders = await ycsAPI.getOrdersByUser(currentUser.id);
                
                // ìƒíƒœë³„ ì£¼ë¬¸ ê°œìˆ˜ ê³„ì‚°
                const statusCounts = userOrders.reduce((acc, order) => {
                    acc[order.status] = (acc[order.status] || 0) + 1;
                    return acc;
                }, {});

                const totalOrders = userOrders.length;
                const pendingOrders = (statusCounts.RECEIVED || 0) + (statusCounts.ARRIVED || 0) + 
                                    (statusCounts.REPACKING || 0) + (statusCounts.SHIPPING || 0);
                const completedOrders = (statusCounts.DELIVERED || 0) + (statusCounts.COMPLETED || 0);
                
                document.getElementById('totalOrders').textContent = totalOrders;
                document.getElementById('pendingOrders').textContent = pendingOrders;
                document.getElementById('completedOrders').textContent = completedOrders;
            } catch (error) {
                console.error('ì£¼ë¬¸ í†µê³„ ë¡œë“œ ì‹¤íŒ¨:', error);
                // ì˜¤ë¥˜ ì‹œ ê¸°ë³¸ê°’ í‘œì‹œ
                document.getElementById('totalOrders').textContent = '0';
                document.getElementById('pendingOrders').textContent = '0';
                document.getElementById('completedOrders').textContent = '0';
            }
        }

        // ìµœê·¼ ì£¼ë¬¸ ì—…ë°ì´íŠ¸
        async function updateRecentOrders() {
            try {
                const userOrders = await ycsAPI.getOrdersByUser(currentUser.id);
                const recentOrders = userOrders.slice(-3).reverse(); // ìµœê·¼ 3ê°œë§Œ
                
                const recentOrdersContainer = document.getElementById('recentOrders');
                
                if (recentOrders.length === 0) {
                    recentOrdersContainer.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ“¦</div>
                            <div class="empty-title">ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</div>
                            <div class="empty-desc">ì²« ë²ˆì§¸ ì£¼ë¬¸ì„ ì ‘ìˆ˜í•´ë³´ì„¸ìš”</div>
                        </div>
                    `;
                    return;
                }

                recentOrdersContainer.innerHTML = recentOrders.map(order => {
                    const statusClass = getStatusClass(order.status);
                    const statusText = getStatusText(order.status);
                    const orderDate = new Date(order.createdAt).toLocaleDateString('ko-KR');
                    const itemDesc = order.items && order.items.length > 0 
                        ? `${order.items[0].description}${order.items.length > 1 ? ` ì™¸ ${order.items.length - 1}ê°œ` : ''}`
                        : 'ìƒí’ˆ ì •ë³´ ì—†ìŒ';

                    return `
                        <div class="order-item" onclick="window.location.href='order-detail.html?id=${order.orderNumber}'">
                            <div class="order-info">
                                <div class="order-number">#${order.orderNumber}</div>
                                <div class="order-desc">${itemDesc} â€¢ ${order.country}</div>
                            </div>
                            <div class="order-meta">
                                <div class="order-date">${orderDate}</div>
                                <span class="order-status ${statusClass}">${statusText}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error('ìµœê·¼ ì£¼ë¬¸ ë¡œë“œ ì‹¤íŒ¨:', error);
                document.getElementById('recentOrders').innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">âŒ</div>
                        <div class="empty-title">ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨</div>
                        <div class="empty-desc">ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”</div>
                    </div>
                `;
            }
        }

        // ì°½ê³  ë³´ê´€ í˜„í™© ì—…ë°ì´íŠ¸
        async function updateWarehouseItems() {
            try {
                const userOrders = await ycsAPI.getOrdersByUser(currentUser.id);
                const warehouseOrders = userOrders.filter(order => 
                    ['ARRIVED', 'REPACKING'].includes(order.status) && order.storageLocation
                );
                
                const warehouseItemsContainer = document.getElementById('warehouseItems');
                
                if (warehouseOrders.length === 0) {
                    warehouseItemsContainer.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">ğŸª</div>
                            <div class="empty-title">ë³´ê´€ ì¤‘ì¸ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤</div>
                            <div class="empty-desc">ì°½ê³ ì— ë„ì°©í•œ ìƒí’ˆì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
                        </div>
                    `;
                    return;
                }

                warehouseItemsContainer.innerHTML = warehouseOrders.map(order => {
                    const itemDesc = order.items && order.items.length > 0 
                        ? `${order.items[0].description}${order.items.length > 1 ? ` ì™¸ ${order.items.length - 1}ê°œ` : ''}`
                        : 'ìƒí’ˆ ì •ë³´ ì—†ìŒ';
                    const arrivedDate = new Date(order.arrivedAt).toLocaleDateString('ko-KR');
                    const statusText = order.status === 'REPACKING' ? 'ë¦¬íŒ¨í‚¹ì§„í–‰' : 'ë³´ê´€ì¤‘';
                    const statusColor = order.status === 'REPACKING' ? '#fef3c7' : '#dcfce7';
                    const statusTextColor = order.status === 'REPACKING' ? '#92400e' : '#166534';
                    
                    return `
                        <div class="order-item" style="border-left: 4px solid var(--primary-500);" onclick="window.location.href='order-detail.html?id=${order.orderNumber}'">
                            <div class="order-info">
                                <div class="order-number">#${order.orderNumber}</div>
                                <div class="order-desc">${itemDesc} â€¢ ${order.actualWeight || order.totalWeight}kg</div>
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.25rem;">
                                    <span style="display: inline-flex; align-items: center; padding: 0.125rem 0.5rem; background: var(--primary-100); color: var(--primary-700); border-radius: 9999px; font-size: 0.75rem; font-weight: 500; font-family: 'Monaco', 'Menlo', monospace;">
                                        ${order.storageLocation}
                                    </span>
                                    <span style="font-size: 0.75rem; color: #6b7280;">
                                        ${order.storageArea}
                                    </span>
                                </div>
                            </div>
                            <div class="order-meta">
                                <div class="order-date">ì…ê³ ì¼: ${arrivedDate}</div>
                                <span class="order-status" style="background: ${statusColor}; color: ${statusTextColor};">${statusText}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error('ì°½ê³  ë³´ê´€ í˜„í™© ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // ì£¼ë¬¸ ìƒíƒœë³„ CSS í´ë˜ìŠ¤ ë°˜í™˜
        function getStatusClass(status) {
            const statusClasses = {
                'RECEIVED': 'status-pending',
                'ARRIVED': 'status-processing',
                'REPACKING': 'status-processing',
                'SHIPPING': 'status-shipping',
                'DELIVERED': 'status-delivered',
                'BILLING': 'status-billing',
                'PAYMENT_PENDING': 'status-payment-pending',
                'PAYMENT_CONFIRMED': 'status-payment-confirmed',
                'COMPLETED': 'status-delivered'
            };
            return statusClasses[status] || 'status-pending';
        }

        // ì£¼ë¬¸ ìƒíƒœ í…ìŠ¤íŠ¸ ë°˜í™˜
        function getStatusText(status) {
            const statusTexts = {
                'RECEIVED': 'ì ‘ìˆ˜ì™„ë£Œ',
                'ARRIVED': 'ì°½ê³ ë„ì°©',
                'REPACKING': 'ë¦¬íŒ¨í‚¹ì§„í–‰',
                'SHIPPING': 'ë°°ì†¡ì¤‘',
                'DELIVERED': 'ë°°ì†¡ì™„ë£Œ',
                'BILLING': 'ì²­êµ¬ì„œë°œí–‰',
                'PAYMENT_PENDING': 'ì…ê¸ˆëŒ€ê¸°',
                'PAYMENT_CONFIRMED': 'ì…ê¸ˆí™•ì¸',
                'COMPLETED': 'ì™„ë£Œ'
            };
            return statusTexts[status] || status;
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', async function() {
            if (checkAuth()) {
                await Promise.all([
                    updateOrderStats(),
                    updateRecentOrders(),
                    updateWarehouseItems()
                ]);
            }
        });
    </script>
</body>
</html>